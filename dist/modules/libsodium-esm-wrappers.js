"use strict";import initSodiumESM from"./libsodium.esm.js";const output_format="uint8array";export const libsodium=await initSodiumESM();if(0!==libsodium._sodium_init())throw new Error("libsodium was not correctly initialized.");export const SODIUM_LIBRARY_VERSION_MAJOR=libsodium._sodium_library_version_major?.();export const SODIUM_LIBRARY_VERSION_MINOR=libsodium._sodium_library_version_minor?.();export const crypto_aead_aegis128l_ABYTES=libsodium._crypto_aead_aegis128l_abytes?.();export const crypto_aead_aegis128l_KEYBYTES=libsodium._crypto_aead_aegis128l_keybytes?.();export const crypto_aead_aegis128l_MESSAGEBYTES_MAX=libsodium._crypto_aead_aegis128l_messagebytes_max?.();export const crypto_aead_aegis128l_NPUBBYTES=libsodium._crypto_aead_aegis128l_npubbytes?.();export const crypto_aead_aegis128l_NSECBYTES=libsodium._crypto_aead_aegis128l_nsecbytes?.();export const crypto_aead_aegis256_ABYTES=libsodium._crypto_aead_aegis256_abytes?.();export const crypto_aead_aegis256_KEYBYTES=libsodium._crypto_aead_aegis256_keybytes?.();export const crypto_aead_aegis256_MESSAGEBYTES_MAX=libsodium._crypto_aead_aegis256_messagebytes_max?.();export const crypto_aead_aegis256_NPUBBYTES=libsodium._crypto_aead_aegis256_npubbytes?.();export const crypto_aead_aegis256_NSECBYTES=libsodium._crypto_aead_aegis256_nsecbytes?.();export const crypto_aead_aes256gcm_ABYTES=libsodium._crypto_aead_aes256gcm_abytes?.();export const crypto_aead_aes256gcm_KEYBYTES=libsodium._crypto_aead_aes256gcm_keybytes?.();export const crypto_aead_aes256gcm_MESSAGEBYTES_MAX=libsodium._crypto_aead_aes256gcm_messagebytes_max?.();export const crypto_aead_aes256gcm_NPUBBYTES=libsodium._crypto_aead_aes256gcm_npubbytes?.();export const crypto_aead_aes256gcm_NSECBYTES=libsodium._crypto_aead_aes256gcm_nsecbytes?.();export const crypto_aead_chacha20poly1305_ABYTES=libsodium._crypto_aead_chacha20poly1305_abytes?.();export const crypto_aead_chacha20poly1305_IETF_ABYTES=libsodium._crypto_aead_chacha20poly1305_ietf_abytes?.();export const crypto_aead_chacha20poly1305_IETF_KEYBYTES=libsodium._crypto_aead_chacha20poly1305_ietf_keybytes?.();export const crypto_aead_chacha20poly1305_IETF_MESSAGEBYTES_MAX=libsodium._crypto_aead_chacha20poly1305_ietf_messagebytes_max?.();export const crypto_aead_chacha20poly1305_IETF_NPUBBYTES=libsodium._crypto_aead_chacha20poly1305_ietf_npubbytes?.();export const crypto_aead_chacha20poly1305_IETF_NSECBYTES=libsodium._crypto_aead_chacha20poly1305_ietf_nsecbytes?.();export const crypto_aead_chacha20poly1305_KEYBYTES=libsodium._crypto_aead_chacha20poly1305_keybytes?.();export const crypto_aead_chacha20poly1305_MESSAGEBYTES_MAX=libsodium._crypto_aead_chacha20poly1305_messagebytes_max?.();export const crypto_aead_chacha20poly1305_NPUBBYTES=libsodium._crypto_aead_chacha20poly1305_npubbytes?.();export const crypto_aead_chacha20poly1305_NSECBYTES=libsodium._crypto_aead_chacha20poly1305_nsecbytes?.();export const crypto_aead_chacha20poly1305_ietf_ABYTES=libsodium._crypto_aead_chacha20poly1305_ietf_abytes?.();export const crypto_aead_chacha20poly1305_ietf_KEYBYTES=libsodium._crypto_aead_chacha20poly1305_ietf_keybytes?.();export const crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX=libsodium._crypto_aead_chacha20poly1305_ietf_messagebytes_max?.();export const crypto_aead_chacha20poly1305_ietf_NPUBBYTES=libsodium._crypto_aead_chacha20poly1305_ietf_npubbytes?.();export const crypto_aead_chacha20poly1305_ietf_NSECBYTES=libsodium._crypto_aead_chacha20poly1305_ietf_nsecbytes?.();export const crypto_aead_xchacha20poly1305_IETF_ABYTES=libsodium._crypto_aead_xchacha20poly1305_ietf_abytes?.();export const crypto_aead_xchacha20poly1305_IETF_KEYBYTES=libsodium._crypto_aead_xchacha20poly1305_ietf_keybytes?.();export const crypto_aead_xchacha20poly1305_IETF_MESSAGEBYTES_MAX=libsodium._crypto_aead_xchacha20poly1305_ietf_messagebytes_max?.();export const crypto_aead_xchacha20poly1305_IETF_NPUBBYTES=libsodium._crypto_aead_xchacha20poly1305_ietf_npubbytes?.();export const crypto_aead_xchacha20poly1305_IETF_NSECBYTES=libsodium._crypto_aead_xchacha20poly1305_ietf_nsecbytes?.();export const crypto_aead_xchacha20poly1305_ietf_ABYTES=libsodium._crypto_aead_xchacha20poly1305_ietf_abytes?.();export const crypto_aead_xchacha20poly1305_ietf_KEYBYTES=libsodium._crypto_aead_xchacha20poly1305_ietf_keybytes?.();export const crypto_aead_xchacha20poly1305_ietf_MESSAGEBYTES_MAX=libsodium._crypto_aead_xchacha20poly1305_ietf_messagebytes_max?.();export const crypto_aead_xchacha20poly1305_ietf_NPUBBYTES=libsodium._crypto_aead_xchacha20poly1305_ietf_npubbytes?.();export const crypto_aead_xchacha20poly1305_ietf_NSECBYTES=libsodium._crypto_aead_xchacha20poly1305_ietf_nsecbytes?.();export const crypto_auth_BYTES=libsodium._crypto_auth_bytes?.();export const crypto_auth_KEYBYTES=libsodium._crypto_auth_keybytes?.();export const crypto_auth_hmacsha256_BYTES=libsodium._crypto_auth_hmacsha256_bytes?.();export const crypto_auth_hmacsha256_KEYBYTES=libsodium._crypto_auth_hmacsha256_keybytes?.();export const crypto_auth_hmacsha512256_BYTES=libsodium._crypto_auth_hmacsha512256_bytes?.();export const crypto_auth_hmacsha512256_KEYBYTES=libsodium._crypto_auth_hmacsha512256_keybytes?.();export const crypto_auth_hmacsha512_BYTES=libsodium._crypto_auth_hmacsha512_bytes?.();export const crypto_auth_hmacsha512_KEYBYTES=libsodium._crypto_auth_hmacsha512_keybytes?.();export const crypto_box_BEFORENMBYTES=libsodium._crypto_box_beforenmbytes?.();export const crypto_box_MACBYTES=libsodium._crypto_box_macbytes?.();export const crypto_box_MESSAGEBYTES_MAX=libsodium._crypto_box_messagebytes_max?.();export const crypto_box_NONCEBYTES=libsodium._crypto_box_noncebytes?.();export const crypto_box_PUBLICKEYBYTES=libsodium._crypto_box_publickeybytes?.();export const crypto_box_SEALBYTES=libsodium._crypto_box_sealbytes?.();export const crypto_box_SECRETKEYBYTES=libsodium._crypto_box_secretkeybytes?.();export const crypto_box_SEEDBYTES=libsodium._crypto_box_seedbytes?.();export const crypto_box_curve25519xchacha20poly1305_BEFORENMBYTES=libsodium._crypto_box_curve25519xchacha20poly1305_beforenmbytes?.();export const crypto_box_curve25519xchacha20poly1305_MACBYTES=libsodium._crypto_box_curve25519xchacha20poly1305_macbytes?.();export const crypto_box_curve25519xchacha20poly1305_MESSAGEBYTES_MAX=libsodium._crypto_box_curve25519xchacha20poly1305_messagebytes_max?.();export const crypto_box_curve25519xchacha20poly1305_NONCEBYTES=libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes?.();export const crypto_box_curve25519xchacha20poly1305_PUBLICKEYBYTES=libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes?.();export const crypto_box_curve25519xchacha20poly1305_SEALBYTES=libsodium._crypto_box_curve25519xchacha20poly1305_sealbytes?.();export const crypto_box_curve25519xchacha20poly1305_SECRETKEYBYTES=libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes?.();export const crypto_box_curve25519xchacha20poly1305_SEEDBYTES=libsodium._crypto_box_curve25519xchacha20poly1305_seedbytes?.();export const crypto_box_curve25519xsalsa20poly1305_BEFORENMBYTES=libsodium._crypto_box_curve25519xsalsa20poly1305_beforenmbytes?.();export const crypto_box_curve25519xsalsa20poly1305_MACBYTES=libsodium._crypto_box_curve25519xsalsa20poly1305_macbytes?.();export const crypto_box_curve25519xsalsa20poly1305_MESSAGEBYTES_MAX=libsodium._crypto_box_curve25519xsalsa20poly1305_messagebytes_max?.();export const crypto_box_curve25519xsalsa20poly1305_NONCEBYTES=libsodium._crypto_box_curve25519xsalsa20poly1305_noncebytes?.();export const crypto_box_curve25519xsalsa20poly1305_PUBLICKEYBYTES=libsodium._crypto_box_curve25519xsalsa20poly1305_publickeybytes?.();export const crypto_box_curve25519xsalsa20poly1305_SECRETKEYBYTES=libsodium._crypto_box_curve25519xsalsa20poly1305_secretkeybytes?.();export const crypto_box_curve25519xsalsa20poly1305_SEEDBYTES=libsodium._crypto_box_curve25519xsalsa20poly1305_seedbytes?.();export const crypto_core_ed25519_BYTES=libsodium._crypto_core_ed25519_bytes?.();export const crypto_core_ed25519_HASHBYTES=libsodium._crypto_core_ed25519_hashbytes?.();export const crypto_core_ed25519_NONREDUCEDSCALARBYTES=libsodium._crypto_core_ed25519_nonreducedscalarbytes?.();export const crypto_core_ed25519_SCALARBYTES=libsodium._crypto_core_ed25519_scalarbytes?.();export const crypto_core_ed25519_UNIFORMBYTES=libsodium._crypto_core_ed25519_uniformbytes?.();export const crypto_core_hchacha20_CONSTBYTES=libsodium._crypto_core_hchacha20_constbytes?.();export const crypto_core_hchacha20_INPUTBYTES=libsodium._crypto_core_hchacha20_inputbytes?.();export const crypto_core_hchacha20_KEYBYTES=libsodium._crypto_core_hchacha20_keybytes?.();export const crypto_core_hchacha20_OUTPUTBYTES=libsodium._crypto_core_hchacha20_outputbytes?.();export const crypto_core_hsalsa20_CONSTBYTES=libsodium._crypto_core_hsalsa20_constbytes?.();export const crypto_core_hsalsa20_INPUTBYTES=libsodium._crypto_core_hsalsa20_inputbytes?.();export const crypto_core_hsalsa20_KEYBYTES=libsodium._crypto_core_hsalsa20_keybytes?.();export const crypto_core_hsalsa20_OUTPUTBYTES=libsodium._crypto_core_hsalsa20_outputbytes?.();export const crypto_core_ristretto255_BYTES=libsodium._crypto_core_ristretto255_bytes?.();export const crypto_core_ristretto255_HASHBYTES=libsodium._crypto_core_ristretto255_hashbytes?.();export const crypto_core_ristretto255_NONREDUCEDSCALARBYTES=libsodium._crypto_core_ristretto255_nonreducedscalarbytes?.();export const crypto_core_ristretto255_SCALARBYTES=libsodium._crypto_core_ristretto255_scalarbytes?.();export const crypto_core_salsa2012_CONSTBYTES=libsodium._crypto_core_salsa2012_constbytes?.();export const crypto_core_salsa2012_INPUTBYTES=libsodium._crypto_core_salsa2012_inputbytes?.();export const crypto_core_salsa2012_KEYBYTES=libsodium._crypto_core_salsa2012_keybytes?.();export const crypto_core_salsa2012_OUTPUTBYTES=libsodium._crypto_core_salsa2012_outputbytes?.();export const crypto_core_salsa208_CONSTBYTES=libsodium._crypto_core_salsa208_constbytes?.();export const crypto_core_salsa208_INPUTBYTES=libsodium._crypto_core_salsa208_inputbytes?.();export const crypto_core_salsa208_KEYBYTES=libsodium._crypto_core_salsa208_keybytes?.();export const crypto_core_salsa208_OUTPUTBYTES=libsodium._crypto_core_salsa208_outputbytes?.();export const crypto_core_salsa20_CONSTBYTES=libsodium._crypto_core_salsa20_constbytes?.();export const crypto_core_salsa20_INPUTBYTES=libsodium._crypto_core_salsa20_inputbytes?.();export const crypto_core_salsa20_KEYBYTES=libsodium._crypto_core_salsa20_keybytes?.();export const crypto_core_salsa20_OUTPUTBYTES=libsodium._crypto_core_salsa20_outputbytes?.();export const crypto_generichash_BYTES=libsodium._crypto_generichash_bytes?.();export const crypto_generichash_BYTES_MAX=libsodium._crypto_generichash_bytes_max?.();export const crypto_generichash_BYTES_MIN=libsodium._crypto_generichash_bytes_min?.();export const crypto_generichash_KEYBYTES=libsodium._crypto_generichash_keybytes?.();export const crypto_generichash_KEYBYTES_MAX=libsodium._crypto_generichash_keybytes_max?.();export const crypto_generichash_KEYBYTES_MIN=libsodium._crypto_generichash_keybytes_min?.();export const crypto_generichash_blake2b_BYTES=libsodium._crypto_generichash_blake2b_bytes?.();export const crypto_generichash_blake2b_BYTES_MAX=libsodium._crypto_generichash_blake2b_bytes_max?.();export const crypto_generichash_blake2b_BYTES_MIN=libsodium._crypto_generichash_blake2b_bytes_min?.();export const crypto_generichash_blake2b_KEYBYTES=libsodium._crypto_generichash_blake2b_keybytes?.();export const crypto_generichash_blake2b_KEYBYTES_MAX=libsodium._crypto_generichash_blake2b_keybytes_max?.();export const crypto_generichash_blake2b_KEYBYTES_MIN=libsodium._crypto_generichash_blake2b_keybytes_min?.();export const crypto_generichash_blake2b_PERSONALBYTES=libsodium._crypto_generichash_blake2b_personalbytes?.();export const crypto_generichash_blake2b_SALTBYTES=libsodium._crypto_generichash_blake2b_saltbytes?.();export const crypto_hash_BYTES=libsodium._crypto_hash_bytes?.();export const crypto_hash_sha256_BYTES=libsodium._crypto_hash_sha256_bytes?.();export const crypto_hash_sha512_BYTES=libsodium._crypto_hash_sha512_bytes?.();export const crypto_kdf_BYTES_MAX=libsodium._crypto_kdf_bytes_max?.();export const crypto_kdf_BYTES_MIN=libsodium._crypto_kdf_bytes_min?.();export const crypto_kdf_CONTEXTBYTES=libsodium._crypto_kdf_contextbytes?.();export const crypto_kdf_KEYBYTES=libsodium._crypto_kdf_keybytes?.();export const crypto_kdf_blake2b_BYTES_MAX=libsodium._crypto_kdf_blake2b_bytes_max?.();export const crypto_kdf_blake2b_BYTES_MIN=libsodium._crypto_kdf_blake2b_bytes_min?.();export const crypto_kdf_blake2b_CONTEXTBYTES=libsodium._crypto_kdf_blake2b_contextbytes?.();export const crypto_kdf_blake2b_KEYBYTES=libsodium._crypto_kdf_blake2b_keybytes?.();export const crypto_kdf_hkdf_sha256_BYTES_MAX=libsodium._crypto_kdf_hkdf_sha256_bytes_max?.();export const crypto_kdf_hkdf_sha256_BYTES_MIN=libsodium._crypto_kdf_hkdf_sha256_bytes_min?.();export const crypto_kdf_hkdf_sha256_KEYBYTES=libsodium._crypto_kdf_hkdf_sha256_keybytes?.();export const crypto_kdf_hkdf_sha512_BYTES_MAX=libsodium._crypto_kdf_hkdf_sha512_bytes_max?.();export const crypto_kdf_hkdf_sha512_BYTES_MIN=libsodium._crypto_kdf_hkdf_sha512_bytes_min?.();export const crypto_kdf_hkdf_sha512_KEYBYTES=libsodium._crypto_kdf_hkdf_sha512_keybytes?.();export const crypto_kx_PUBLICKEYBYTES=libsodium._crypto_kx_publickeybytes?.();export const crypto_kx_SECRETKEYBYTES=libsodium._crypto_kx_secretkeybytes?.();export const crypto_kx_SEEDBYTES=libsodium._crypto_kx_seedbytes?.();export const crypto_kx_SESSIONKEYBYTES=libsodium._crypto_kx_sessionkeybytes?.();export const crypto_onetimeauth_BYTES=libsodium._crypto_onetimeauth_bytes?.();export const crypto_onetimeauth_KEYBYTES=libsodium._crypto_onetimeauth_keybytes?.();export const crypto_onetimeauth_poly1305_BYTES=libsodium._crypto_onetimeauth_poly1305_bytes?.();export const crypto_onetimeauth_poly1305_KEYBYTES=libsodium._crypto_onetimeauth_poly1305_keybytes?.();export const crypto_pwhash_ALG_ARGON2I13=libsodium._crypto_pwhash_alg_argon2i13?.();export const crypto_pwhash_ALG_ARGON2ID13=libsodium._crypto_pwhash_alg_argon2id13?.();export const crypto_pwhash_ALG_DEFAULT=libsodium._crypto_pwhash_alg_default?.();export const crypto_pwhash_BYTES_MAX=libsodium._crypto_pwhash_bytes_max?.();export const crypto_pwhash_BYTES_MIN=libsodium._crypto_pwhash_bytes_min?.();export const crypto_pwhash_MEMLIMIT_INTERACTIVE=libsodium._crypto_pwhash_memlimit_interactive?.();export const crypto_pwhash_MEMLIMIT_MAX=libsodium._crypto_pwhash_memlimit_max?.();export const crypto_pwhash_MEMLIMIT_MIN=libsodium._crypto_pwhash_memlimit_min?.();export const crypto_pwhash_MEMLIMIT_MODERATE=libsodium._crypto_pwhash_memlimit_moderate?.();export const crypto_pwhash_MEMLIMIT_SENSITIVE=libsodium._crypto_pwhash_memlimit_sensitive?.();export const crypto_pwhash_OPSLIMIT_INTERACTIVE=libsodium._crypto_pwhash_opslimit_interactive?.();export const crypto_pwhash_OPSLIMIT_MAX=libsodium._crypto_pwhash_opslimit_max?.();export const crypto_pwhash_OPSLIMIT_MIN=libsodium._crypto_pwhash_opslimit_min?.();export const crypto_pwhash_OPSLIMIT_MODERATE=libsodium._crypto_pwhash_opslimit_moderate?.();export const crypto_pwhash_OPSLIMIT_SENSITIVE=libsodium._crypto_pwhash_opslimit_sensitive?.();export const crypto_pwhash_PASSWD_MAX=libsodium._crypto_pwhash_passwd_max?.();export const crypto_pwhash_PASSWD_MIN=libsodium._crypto_pwhash_passwd_min?.();export const crypto_pwhash_SALTBYTES=libsodium._crypto_pwhash_saltbytes?.();export const crypto_pwhash_STRBYTES=libsodium._crypto_pwhash_strbytes?.();export const crypto_pwhash_argon2i_BYTES_MAX=libsodium._crypto_pwhash_argon2i_bytes_max?.();export const crypto_pwhash_argon2i_BYTES_MIN=libsodium._crypto_pwhash_argon2i_bytes_min?.();export const crypto_pwhash_argon2i_MEMLIMIT_INTERACTIVE=libsodium._crypto_pwhash_argon2i_memlimit_interactive?.();export const crypto_pwhash_argon2i_MEMLIMIT_MAX=libsodium._crypto_pwhash_argon2i_memlimit_max?.();export const crypto_pwhash_argon2i_MEMLIMIT_MIN=libsodium._crypto_pwhash_argon2i_memlimit_min?.();export const crypto_pwhash_argon2i_MEMLIMIT_MODERATE=libsodium._crypto_pwhash_argon2i_memlimit_moderate?.();export const crypto_pwhash_argon2i_MEMLIMIT_SENSITIVE=libsodium._crypto_pwhash_argon2i_memlimit_sensitive?.();export const crypto_pwhash_argon2i_OPSLIMIT_INTERACTIVE=libsodium._crypto_pwhash_argon2i_opslimit_interactive?.();export const crypto_pwhash_argon2i_OPSLIMIT_MAX=libsodium._crypto_pwhash_argon2i_opslimit_max?.();export const crypto_pwhash_argon2i_OPSLIMIT_MIN=libsodium._crypto_pwhash_argon2i_opslimit_min?.();export const crypto_pwhash_argon2i_OPSLIMIT_MODERATE=libsodium._crypto_pwhash_argon2i_opslimit_moderate?.();export const crypto_pwhash_argon2i_OPSLIMIT_SENSITIVE=libsodium._crypto_pwhash_argon2i_opslimit_sensitive?.();export const crypto_pwhash_argon2i_PASSWD_MAX=libsodium._crypto_pwhash_argon2i_passwd_max?.();export const crypto_pwhash_argon2i_PASSWD_MIN=libsodium._crypto_pwhash_argon2i_passwd_min?.();export const crypto_pwhash_argon2i_SALTBYTES=libsodium._crypto_pwhash_argon2i_saltbytes?.();export const crypto_pwhash_argon2i_STRBYTES=libsodium._crypto_pwhash_argon2i_strbytes?.();export const crypto_pwhash_argon2id_BYTES_MAX=libsodium._crypto_pwhash_argon2id_bytes_max?.();export const crypto_pwhash_argon2id_BYTES_MIN=libsodium._crypto_pwhash_argon2id_bytes_min?.();export const crypto_pwhash_argon2id_MEMLIMIT_INTERACTIVE=libsodium._crypto_pwhash_argon2id_memlimit_interactive?.();export const crypto_pwhash_argon2id_MEMLIMIT_MAX=libsodium._crypto_pwhash_argon2id_memlimit_max?.();export const crypto_pwhash_argon2id_MEMLIMIT_MIN=libsodium._crypto_pwhash_argon2id_memlimit_min?.();export const crypto_pwhash_argon2id_MEMLIMIT_MODERATE=libsodium._crypto_pwhash_argon2id_memlimit_moderate?.();export const crypto_pwhash_argon2id_MEMLIMIT_SENSITIVE=libsodium._crypto_pwhash_argon2id_memlimit_sensitive?.();export const crypto_pwhash_argon2id_OPSLIMIT_INTERACTIVE=libsodium._crypto_pwhash_argon2id_opslimit_interactive?.();export const crypto_pwhash_argon2id_OPSLIMIT_MAX=libsodium._crypto_pwhash_argon2id_opslimit_max?.();export const crypto_pwhash_argon2id_OPSLIMIT_MIN=libsodium._crypto_pwhash_argon2id_opslimit_min?.();export const crypto_pwhash_argon2id_OPSLIMIT_MODERATE=libsodium._crypto_pwhash_argon2id_opslimit_moderate?.();export const crypto_pwhash_argon2id_OPSLIMIT_SENSITIVE=libsodium._crypto_pwhash_argon2id_opslimit_sensitive?.();export const crypto_pwhash_argon2id_PASSWD_MAX=libsodium._crypto_pwhash_argon2id_passwd_max?.();export const crypto_pwhash_argon2id_PASSWD_MIN=libsodium._crypto_pwhash_argon2id_passwd_min?.();export const crypto_pwhash_argon2id_SALTBYTES=libsodium._crypto_pwhash_argon2id_saltbytes?.();export const crypto_pwhash_argon2id_STRBYTES=libsodium._crypto_pwhash_argon2id_strbytes?.();export const crypto_pwhash_scryptsalsa208sha256_BYTES_MAX=libsodium._crypto_pwhash_scryptsalsa208sha256_bytes_max?.();export const crypto_pwhash_scryptsalsa208sha256_BYTES_MIN=libsodium._crypto_pwhash_scryptsalsa208sha256_bytes_min?.();export const crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_INTERACTIVE=libsodium._crypto_pwhash_scryptsalsa208sha256_memlimit_interactive?.();export const crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_MAX=libsodium._crypto_pwhash_scryptsalsa208sha256_memlimit_max?.();export const crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_MIN=libsodium._crypto_pwhash_scryptsalsa208sha256_memlimit_min?.();export const crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_SENSITIVE=libsodium._crypto_pwhash_scryptsalsa208sha256_memlimit_sensitive?.();export const crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_INTERACTIVE=libsodium._crypto_pwhash_scryptsalsa208sha256_opslimit_interactive?.();export const crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_MAX=libsodium._crypto_pwhash_scryptsalsa208sha256_opslimit_max?.();export const crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_MIN=libsodium._crypto_pwhash_scryptsalsa208sha256_opslimit_min?.();export const crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_SENSITIVE=libsodium._crypto_pwhash_scryptsalsa208sha256_opslimit_sensitive?.();export const crypto_pwhash_scryptsalsa208sha256_PASSWD_MAX=libsodium._crypto_pwhash_scryptsalsa208sha256_passwd_max?.();export const crypto_pwhash_scryptsalsa208sha256_PASSWD_MIN=libsodium._crypto_pwhash_scryptsalsa208sha256_passwd_min?.();export const crypto_pwhash_scryptsalsa208sha256_SALTBYTES=libsodium._crypto_pwhash_scryptsalsa208sha256_saltbytes?.();export const crypto_pwhash_scryptsalsa208sha256_STRBYTES=libsodium._crypto_pwhash_scryptsalsa208sha256_strbytes?.();export const crypto_scalarmult_BYTES=libsodium._crypto_scalarmult_bytes?.();export const crypto_scalarmult_SCALARBYTES=libsodium._crypto_scalarmult_scalarbytes?.();export const crypto_scalarmult_curve25519_BYTES=libsodium._crypto_scalarmult_curve25519_bytes?.();export const crypto_scalarmult_curve25519_SCALARBYTES=libsodium._crypto_scalarmult_curve25519_scalarbytes?.();export const crypto_scalarmult_ed25519_BYTES=libsodium._crypto_scalarmult_ed25519_bytes?.();export const crypto_scalarmult_ed25519_SCALARBYTES=libsodium._crypto_scalarmult_ed25519_scalarbytes?.();export const crypto_scalarmult_ristretto255_BYTES=libsodium._crypto_scalarmult_ristretto255_bytes?.();export const crypto_scalarmult_ristretto255_SCALARBYTES=libsodium._crypto_scalarmult_ristretto255_scalarbytes?.();export const crypto_secretbox_KEYBYTES=libsodium._crypto_secretbox_keybytes?.();export const crypto_secretbox_MACBYTES=libsodium._crypto_secretbox_macbytes?.();export const crypto_secretbox_MESSAGEBYTES_MAX=libsodium._crypto_secretbox_messagebytes_max?.();export const crypto_secretbox_NONCEBYTES=libsodium._crypto_secretbox_noncebytes?.();export const crypto_secretbox_xchacha20poly1305_KEYBYTES=libsodium._crypto_secretbox_xchacha20poly1305_keybytes?.();export const crypto_secretbox_xchacha20poly1305_MACBYTES=libsodium._crypto_secretbox_xchacha20poly1305_macbytes?.();export const crypto_secretbox_xchacha20poly1305_MESSAGEBYTES_MAX=libsodium._crypto_secretbox_xchacha20poly1305_messagebytes_max?.();export const crypto_secretbox_xchacha20poly1305_NONCEBYTES=libsodium._crypto_secretbox_xchacha20poly1305_noncebytes?.();export const crypto_secretbox_xsalsa20poly1305_KEYBYTES=libsodium._crypto_secretbox_xsalsa20poly1305_keybytes?.();export const crypto_secretbox_xsalsa20poly1305_MACBYTES=libsodium._crypto_secretbox_xsalsa20poly1305_macbytes?.();export const crypto_secretbox_xsalsa20poly1305_MESSAGEBYTES_MAX=libsodium._crypto_secretbox_xsalsa20poly1305_messagebytes_max?.();export const crypto_secretbox_xsalsa20poly1305_NONCEBYTES=libsodium._crypto_secretbox_xsalsa20poly1305_noncebytes?.();export const crypto_secretstream_xchacha20poly1305_ABYTES=libsodium._crypto_secretstream_xchacha20poly1305_abytes?.();export const crypto_secretstream_xchacha20poly1305_HEADERBYTES=libsodium._crypto_secretstream_xchacha20poly1305_headerbytes?.();export const crypto_secretstream_xchacha20poly1305_KEYBYTES=libsodium._crypto_secretstream_xchacha20poly1305_keybytes?.();export const crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX=libsodium._crypto_secretstream_xchacha20poly1305_messagebytes_max?.();export const crypto_secretstream_xchacha20poly1305_TAG_FINAL=libsodium._crypto_secretstream_xchacha20poly1305_tag_final?.();export const crypto_secretstream_xchacha20poly1305_TAG_MESSAGE=libsodium._crypto_secretstream_xchacha20poly1305_tag_message?.();export const crypto_secretstream_xchacha20poly1305_TAG_PUSH=libsodium._crypto_secretstream_xchacha20poly1305_tag_push?.();export const crypto_secretstream_xchacha20poly1305_TAG_REKEY=libsodium._crypto_secretstream_xchacha20poly1305_tag_rekey?.();export const crypto_shorthash_BYTES=libsodium._crypto_shorthash_bytes?.();export const crypto_shorthash_KEYBYTES=libsodium._crypto_shorthash_keybytes?.();export const crypto_shorthash_siphash24_BYTES=libsodium._crypto_shorthash_siphash24_bytes?.();export const crypto_shorthash_siphash24_KEYBYTES=libsodium._crypto_shorthash_siphash24_keybytes?.();export const crypto_shorthash_siphashx24_BYTES=libsodium._crypto_shorthash_siphashx24_bytes?.();export const crypto_shorthash_siphashx24_KEYBYTES=libsodium._crypto_shorthash_siphashx24_keybytes?.();export const crypto_sign_BYTES=libsodium._crypto_sign_bytes?.();export const crypto_sign_MESSAGEBYTES_MAX=libsodium._crypto_sign_messagebytes_max?.();export const crypto_sign_PUBLICKEYBYTES=libsodium._crypto_sign_publickeybytes?.();export const crypto_sign_SECRETKEYBYTES=libsodium._crypto_sign_secretkeybytes?.();export const crypto_sign_SEEDBYTES=libsodium._crypto_sign_seedbytes?.();export const crypto_sign_ed25519_BYTES=libsodium._crypto_sign_ed25519_bytes?.();export const crypto_sign_ed25519_MESSAGEBYTES_MAX=libsodium._crypto_sign_ed25519_messagebytes_max?.();export const crypto_sign_ed25519_PUBLICKEYBYTES=libsodium._crypto_sign_ed25519_publickeybytes?.();export const crypto_sign_ed25519_SECRETKEYBYTES=libsodium._crypto_sign_ed25519_secretkeybytes?.();export const crypto_sign_ed25519_SEEDBYTES=libsodium._crypto_sign_ed25519_seedbytes?.();export const crypto_stream_KEYBYTES=libsodium._crypto_stream_keybytes?.();export const crypto_stream_MESSAGEBYTES_MAX=libsodium._crypto_stream_messagebytes_max?.();export const crypto_stream_NONCEBYTES=libsodium._crypto_stream_noncebytes?.();export const crypto_stream_chacha20_IETF_KEYBYTES=libsodium._crypto_stream_chacha20_ietf_keybytes?.();export const crypto_stream_chacha20_IETF_MESSAGEBYTES_MAX=libsodium._crypto_stream_chacha20_ietf_messagebytes_max?.();export const crypto_stream_chacha20_IETF_NONCEBYTES=libsodium._crypto_stream_chacha20_ietf_noncebytes?.();export const crypto_stream_chacha20_KEYBYTES=libsodium._crypto_stream_chacha20_keybytes?.();export const crypto_stream_chacha20_MESSAGEBYTES_MAX=libsodium._crypto_stream_chacha20_messagebytes_max?.();export const crypto_stream_chacha20_NONCEBYTES=libsodium._crypto_stream_chacha20_noncebytes?.();export const crypto_stream_chacha20_ietf_KEYBYTES=libsodium._crypto_stream_chacha20_ietf_keybytes?.();export const crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=libsodium._crypto_stream_chacha20_ietf_messagebytes_max?.();export const crypto_stream_chacha20_ietf_NONCEBYTES=libsodium._crypto_stream_chacha20_ietf_noncebytes?.();export const crypto_stream_salsa2012_KEYBYTES=libsodium._crypto_stream_salsa2012_keybytes?.();export const crypto_stream_salsa2012_MESSAGEBYTES_MAX=libsodium._crypto_stream_salsa2012_messagebytes_max?.();export const crypto_stream_salsa2012_NONCEBYTES=libsodium._crypto_stream_salsa2012_noncebytes?.();export const crypto_stream_salsa208_KEYBYTES=libsodium._crypto_stream_salsa208_keybytes?.();export const crypto_stream_salsa208_MESSAGEBYTES_MAX=libsodium._crypto_stream_salsa208_messagebytes_max?.();export const crypto_stream_salsa208_NONCEBYTES=libsodium._crypto_stream_salsa208_noncebytes?.();export const crypto_stream_salsa20_KEYBYTES=libsodium._crypto_stream_salsa20_keybytes?.();export const crypto_stream_salsa20_MESSAGEBYTES_MAX=libsodium._crypto_stream_salsa20_messagebytes_max?.();export const crypto_stream_salsa20_NONCEBYTES=libsodium._crypto_stream_salsa20_noncebytes?.();export const crypto_stream_xchacha20_KEYBYTES=libsodium._crypto_stream_xchacha20_keybytes?.();export const crypto_stream_xchacha20_MESSAGEBYTES_MAX=libsodium._crypto_stream_xchacha20_messagebytes_max?.();export const crypto_stream_xchacha20_NONCEBYTES=libsodium._crypto_stream_xchacha20_noncebytes?.();export const crypto_stream_xsalsa20_KEYBYTES=libsodium._crypto_stream_xsalsa20_keybytes?.();export const crypto_stream_xsalsa20_MESSAGEBYTES_MAX=libsodium._crypto_stream_xsalsa20_messagebytes_max?.();export const crypto_stream_xsalsa20_NONCEBYTES=libsodium._crypto_stream_xsalsa20_noncebytes?.();export const crypto_verify_16_BYTES=libsodium._crypto_verify_16_bytes?.();export const crypto_verify_32_BYTES=libsodium._crypto_verify_32_bytes?.();export const crypto_verify_64_BYTES=libsodium._crypto_verify_64_bytes?.();export const SODIUM_VERSION_STRING=libsodium.UTF8ToString(libsodium._sodium_version_string?.());export const crypto_pwhash_STRPREFIX=libsodium.UTF8ToString(libsodium._crypto_pwhash_strprefix?.());export const crypto_pwhash_argon2i_STRPREFIX=libsodium.UTF8ToString(libsodium._crypto_pwhash_argon2i_strprefix?.());export const crypto_pwhash_argon2id_STRPREFIX=libsodium.UTF8ToString(libsodium._crypto_pwhash_argon2id_strprefix?.());export const crypto_pwhash_scryptsalsa208sha256_STRPREFIX=libsodium.UTF8ToString(libsodium._crypto_pwhash_scryptsalsa208sha256_strprefix?.());export function symbols(){return Object.keys(exports).sort()}export function increment(_){if(!(_ instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be incremented");for(var e=256,t=0,r=_.length;t<r;t++)e>>=8,e+=_[t],_[t]=255&e}export function add(_,e){if(!(_ instanceof Uint8Array&&e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can added");var t=_.length,r=0,a=0;if(e.length!=_.length)throw new TypeError("Arguments must have the same length");for(a=0;a<t;a++)r>>=8,r+=_[a]+e[a],_[a]=255&r}export function is_zero(_){if(!(_ instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be checked");for(var e=0,t=0,r=_.length;t<r;t++)e|=_[t];return 0===e}export function memzero(_){if(!(_ instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be wiped");for(var e=0,t=_.length;e<t;e++)_[e]=0}export function memcmp(_,e){if(!(_ instanceof Uint8Array&&e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(_.length!==e.length)throw new TypeError("Only instances of identical length can be compared");for(var t=0,r=0,a=_.length;r<a;r++)t|=_[r]^e[r];return 0===t}export function compare(_,e){if(!(_ instanceof Uint8Array&&e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(_.length!==e.length)throw new TypeError("Only instances of identical length can be compared");for(var t=0,r=1,a=_.length;a-- >0;)t|=e[a]-_[a]>>8&r,r&=(e[a]^_[a])-1>>8;return t+t+r-1}export function pad(_,e){if(!(_ instanceof Uint8Array))throw new TypeError("buffer must be a Uint8Array");if((e|=0)<=0)throw new Error("block size must be > 0");var t,r=[],a=_malloc(4),o=1,s=0,c=0|_.length,n=new AllocatedBuf(c+e);r.push(a),r.push(n.address);for(var i=n.address,l=n.address+c+e;i<l;i++)libsodium.HEAPU8[i]=_[s],s+=o=1&~((65535&((c-=o)>>>48|c>>>32|c>>>16|c))-1>>16);return 0!==libsodium._sodium_pad(a,n.address,_.length,e,n.length)&&_free_and_throw_error(r,"internal error"),n.length=libsodium.getValue(a,"i32"),t=n.to_Uint8Array(),_free_all(r),t}export function unpad(_,e){if(!(_ instanceof Uint8Array))throw new TypeError("buffer must be a Uint8Array");if((e|=0)<=0)throw new Error("block size must be > 0");var t=[],r=_to_allocated_buf_address(_),a=_malloc(4);return t.push(r),t.push(a),0!==libsodium._sodium_unpad(a,r,_.length,e)&&_free_and_throw_error(t,"unsupported/invalid padding"),_=(_=new Uint8Array(_)).subarray(0,libsodium.getValue(a,"i32")),_free_all(t),_}export function from_string(_){if("function"==typeof TextEncoder)return(new TextEncoder).encode(_);_=unescape(encodeURIComponent(_));for(var e=new Uint8Array(_.length),t=0,r=_.length;t<r;t++)e[t]=_.charCodeAt(t);return e}export function to_string(_){if("function"==typeof TextDecoder)return new TextDecoder("utf-8",{fatal:!0}).decode(_);var e=8192,t=Math.ceil(_.length/e);if(t<=1)try{return decodeURIComponent(escape(String.fromCharCode.apply(null,_)))}catch(_){throw new TypeError("The encoded data was not valid.")}for(var r="",a=0,o=0;o<t;o++){var s=Array.prototype.slice.call(_,o*e+a,(o+1)*e+a);if(0!=s.length){var c,n=s.length,i=0;do{var l=s[--n];l>=240?(i=4,c=!0):l>=224?(i=3,c=!0):l>=192?(i=2,c=!0):l<128&&(i=1,c=!0)}while(!c);for(var d=i-(s.length-n),u=0;u<d;u++)a--,s.pop();r+=to_string(s)}}return r}export function from_hex(_){var e,t=[],r=new AllocatedBuf((_=_any_to_Uint8Array(t,_,"input")).length/2),a=_to_allocated_buf_address(_),o=_malloc(4);return t.push(a),t.push(r.address),t.push(r.hex_end_p),0!==libsodium._sodium_hex2bin(r.address,r.length,a,_.length,0,0,o)&&_free_and_throw_error(t,"invalid input"),libsodium.getValue(o,"i32")-a!==_.length&&_free_and_throw_error(t,"incomplete input"),e=r.to_Uint8Array(),_free_all(t),e}export function to_hex(_){_=_any_to_Uint8Array(null,_,"input");for(var e,t,r,a="",o=0;o<_.length;o++)r=87+(t=15&_[o])+(t-10>>8&-39)<<8|87+(e=_[o]>>>4)+(e-10>>8&-39),a+=String.fromCharCode(255&r)+String.fromCharCode(r>>>8);return a}var base64_variants={ORIGINAL:1,ORIGINAL_NO_PADDING:3,URLSAFE:5,URLSAFE_NO_PADDING:7};export function check_base64_variant(_){if(null==_)return base64_variants.URLSAFE_NO_PADDING;if(_!==base64_variants.ORIGINAL&&_!==base64_variants.ORIGINAL_NO_PADDING&&_!==base64_variants.URLSAFE&&_!=base64_variants.URLSAFE_NO_PADDING)throw new Error("unsupported base64 variant");return _}export function from_base64(_,e){e=check_base64_variant(e);var t,r=[],a=new AllocatedBuf(3*(_=_any_to_Uint8Array(r,_,"input")).length/4),o=_to_allocated_buf_address(_),s=_malloc(4),c=_malloc(4);return r.push(o),r.push(a.address),r.push(a.result_bin_len_p),r.push(a.b64_end_p),0!==libsodium._sodium_base642bin(a.address,a.length,o,_.length,0,s,c,e)&&_free_and_throw_error(r,"invalid input"),libsodium.getValue(c,"i32")-o!==_.length&&_free_and_throw_error(r,"incomplete input"),a.length=libsodium.getValue(s,"i32"),t=a.to_Uint8Array(),_free_all(r),t}export function to_base64(_,e){e=check_base64_variant(e),_=_any_to_Uint8Array(r,_,"input");var t,r=[],a=0|Math.floor(_.length/3),o=_.length-3*a,s=4*a+(0!==o?2&e?2+(o>>>1):4:0),c=new AllocatedBuf(s+1),n=_to_allocated_buf_address(_);return r.push(n),r.push(c.address),0===libsodium._sodium_bin2base64(c.address,c.length,n,_.length,e)&&_free_and_throw_error(r,"conversion failed"),c.length=s,t=to_string(c.to_Uint8Array()),_free_all(r),t}export function output_formats(){return["uint8array","text","hex","base64"]}export function _format_output(_,e){var t=e||output_format;if(!_is_output_format(t))throw new Error(t+" output format is not available");if(_ instanceof AllocatedBuf){if("uint8array"===t)return _.to_Uint8Array();if("text"===t)return to_string(_.to_Uint8Array());if("hex"===t)return to_hex(_.to_Uint8Array());if("base64"===t)return to_base64(_.to_Uint8Array(),base64_variants.URLSAFE_NO_PADDING);throw new Error('What is output format "'+t+'"?')}if("object"==typeof _){for(var r=Object.keys(_),a={},o=0;o<r.length;o++)a[r[o]]=_format_output(_[r[o]],t);return a}if("string"==typeof _)return _;throw new TypeError("Cannot format output")}export function _is_output_format(_){for(var e=output_formats(),t=0;t<e.length;t++)if(e[t]===_)return!0;return!1}export function _check_output_format(_){if(_){if("string"!=typeof _)throw new TypeError("When defined, the output format must be a string");if(!_is_output_format(_))throw new Error(_+" is not a supported output format")}}export function AllocatedBuf(_){this.length=_,this.address=_malloc(_)}AllocatedBuf.prototype.to_Uint8Array=function(){var _=new Uint8Array(this.length);return _.set(libsodium.HEAPU8.subarray(this.address,this.address+this.length)),_};export function _to_allocated_buf_address(_){var e=_malloc(_.length);return libsodium.HEAPU8.set(_,e),e}export function _malloc(_){var e=libsodium._malloc(_);if(0===e)throw{message:"_malloc() failed",length:_};return e}export function _free(_){libsodium._free(_)}export function _free_all(_){if(_)for(var e=0;e<_.length;e++)_free(_[e])}export function _free_and_throw_error(_,e){throw _free_all(_),new Error(e)}export function _free_and_throw_type_error(_,e){throw _free_all(_),new TypeError(e)}export function _require_defined(_,e,t){null==e&&_free_and_throw_type_error(_,t+" cannot be null or undefined")}export function _any_to_Uint8Array(_,e,t){return _require_defined(_,e,t),e instanceof Uint8Array?e:"string"==typeof e?from_string(e):void _free_and_throw_type_error(_,"unsupported input type for "+t)}export function crypto_aead_aegis128l_decrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=null;null!=_&&(c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"secret_nonce")),_.length,s.push(c)),e=_any_to_Uint8Array(s,e,"ciphertext");var n,i=libsodium._crypto_aead_aegis128l_abytes(),l=e.length;l<i&&_free_and_throw_type_error(s,"ciphertext is too short"),n=_to_allocated_buf_address(e),s.push(n);var d=null,u=0;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"additional_data")),u=t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var p,y=0|libsodium._crypto_aead_aegis128l_npubbytes();r.length!==y&&_free_and_throw_type_error(s,"invalid public_nonce length"),p=_to_allocated_buf_address(r),s.push(p),a=_any_to_Uint8Array(s,a,"key");var h,b=0|libsodium._crypto_aead_aegis128l_keybytes();a.length!==b&&_free_and_throw_type_error(s,"invalid key length"),h=_to_allocated_buf_address(a),s.push(h);var f=new AllocatedBuf(l-libsodium._crypto_aead_aegis128l_abytes()|0),m=f.address;if(s.push(m),0===libsodium._crypto_aead_aegis128l_decrypt(m,null,c,n,l,0,d,u,0,p,h)){var v=_format_output(f,o);return _free_all(s),v}_free_and_throw_error(s,"ciphertext cannot be decrypted using that key")}export function crypto_aead_aegis128l_decrypt_detached(_,e,t,r,a,o,s){var c=[];_check_output_format(s);var n=null;null!=_&&(n=_to_allocated_buf_address(_=_any_to_Uint8Array(c,_,"secret_nonce")),_.length,c.push(n));var i=_to_allocated_buf_address(e=_any_to_Uint8Array(c,e,"ciphertext")),l=e.length;c.push(i),t=_any_to_Uint8Array(c,t,"mac");var d,u=0|libsodium._crypto_box_macbytes();t.length!==u&&_free_and_throw_type_error(c,"invalid mac length"),d=_to_allocated_buf_address(t),c.push(d);var p=null,y=0;null!=r&&(p=_to_allocated_buf_address(r=_any_to_Uint8Array(c,r,"additional_data")),y=r.length,c.push(p)),a=_any_to_Uint8Array(c,a,"public_nonce");var h,b=0|libsodium._crypto_aead_aegis128l_npubbytes();a.length!==b&&_free_and_throw_type_error(c,"invalid public_nonce length"),h=_to_allocated_buf_address(a),c.push(h),o=_any_to_Uint8Array(c,o,"key");var f,m=0|libsodium._crypto_aead_aegis128l_keybytes();o.length!==m&&_free_and_throw_type_error(c,"invalid key length"),f=_to_allocated_buf_address(o),c.push(f);var v=new AllocatedBuf(0|l),g=v.address;if(c.push(g),0===libsodium._crypto_aead_aegis128l_decrypt_detached(g,n,i,l,0,d,p,y,0,h,f)){var x=_format_output(v,s);return _free_all(c),x}_free_and_throw_error(c,"ciphertext cannot be decrypted using that key")}export function crypto_aead_aegis128l_encrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_aegis128l_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_aegis128l_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(n+libsodium._crypto_aead_aegis128l_abytes()|0),f=b.address;if(s.push(f),0===libsodium._crypto_aead_aegis128l_encrypt(f,null,c,n,0,i,l,0,d,u,y)){var m=_format_output(b,o);return _free_all(s),m}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_aegis128l_encrypt_detached(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_aegis128l_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_aegis128l_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(0|n),f=b.address;s.push(f);var m=new AllocatedBuf(0|libsodium._crypto_aead_aegis128l_abytes()),v=m.address;if(s.push(v),0===libsodium._crypto_aead_aegis128l_encrypt_detached(f,v,null,c,n,0,i,l,0,d,u,y)){var g=_format_output({ciphertext:b,mac:m},o);return _free_all(s),g}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_aegis128l_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_aead_aegis128l_keybytes()),r=t.address;e.push(r),libsodium._crypto_aead_aegis128l_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_aead_aegis256_decrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=null;null!=_&&(c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"secret_nonce")),_.length,s.push(c)),e=_any_to_Uint8Array(s,e,"ciphertext");var n,i=libsodium._crypto_aead_aegis256_abytes(),l=e.length;l<i&&_free_and_throw_type_error(s,"ciphertext is too short"),n=_to_allocated_buf_address(e),s.push(n);var d=null,u=0;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"additional_data")),u=t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var p,y=0|libsodium._crypto_aead_aegis256_npubbytes();r.length!==y&&_free_and_throw_type_error(s,"invalid public_nonce length"),p=_to_allocated_buf_address(r),s.push(p),a=_any_to_Uint8Array(s,a,"key");var h,b=0|libsodium._crypto_aead_aegis256_keybytes();a.length!==b&&_free_and_throw_type_error(s,"invalid key length"),h=_to_allocated_buf_address(a),s.push(h);var f=new AllocatedBuf(l-libsodium._crypto_aead_aegis256_abytes()|0),m=f.address;if(s.push(m),0===libsodium._crypto_aead_aegis256_decrypt(m,null,c,n,l,0,d,u,0,p,h)){var v=_format_output(f,o);return _free_all(s),v}_free_and_throw_error(s,"ciphertext cannot be decrypted using that key")}export function crypto_aead_aegis256_decrypt_detached(_,e,t,r,a,o,s){var c=[];_check_output_format(s);var n=null;null!=_&&(n=_to_allocated_buf_address(_=_any_to_Uint8Array(c,_,"secret_nonce")),_.length,c.push(n));var i=_to_allocated_buf_address(e=_any_to_Uint8Array(c,e,"ciphertext")),l=e.length;c.push(i),t=_any_to_Uint8Array(c,t,"mac");var d,u=0|libsodium._crypto_box_macbytes();t.length!==u&&_free_and_throw_type_error(c,"invalid mac length"),d=_to_allocated_buf_address(t),c.push(d);var p=null,y=0;null!=r&&(p=_to_allocated_buf_address(r=_any_to_Uint8Array(c,r,"additional_data")),y=r.length,c.push(p)),a=_any_to_Uint8Array(c,a,"public_nonce");var h,b=0|libsodium._crypto_aead_aegis256_npubbytes();a.length!==b&&_free_and_throw_type_error(c,"invalid public_nonce length"),h=_to_allocated_buf_address(a),c.push(h),o=_any_to_Uint8Array(c,o,"key");var f,m=0|libsodium._crypto_aead_aegis256_keybytes();o.length!==m&&_free_and_throw_type_error(c,"invalid key length"),f=_to_allocated_buf_address(o),c.push(f);var v=new AllocatedBuf(0|l),g=v.address;if(c.push(g),0===libsodium._crypto_aead_aegis256_decrypt_detached(g,n,i,l,0,d,p,y,0,h,f)){var x=_format_output(v,s);return _free_all(c),x}_free_and_throw_error(c,"ciphertext cannot be decrypted using that key")}export function crypto_aead_aegis256_encrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_aegis256_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_aegis256_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(n+libsodium._crypto_aead_aegis256_abytes()|0),f=b.address;if(s.push(f),0===libsodium._crypto_aead_aegis256_encrypt(f,null,c,n,0,i,l,0,d,u,y)){var m=_format_output(b,o);return _free_all(s),m}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_aegis256_encrypt_detached(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_aegis256_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_aegis256_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(0|n),f=b.address;s.push(f);var m=new AllocatedBuf(0|libsodium._crypto_aead_aegis256_abytes()),v=m.address;if(s.push(v),0===libsodium._crypto_aead_aegis256_encrypt_detached(f,v,null,c,n,0,i,l,0,d,u,y)){var g=_format_output({ciphertext:b,mac:m},o);return _free_all(s),g}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_aegis256_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_aead_aegis256_keybytes()),r=t.address;e.push(r),libsodium._crypto_aead_aegis256_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_aead_chacha20poly1305_decrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=null;null!=_&&(c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"secret_nonce")),_.length,s.push(c)),e=_any_to_Uint8Array(s,e,"ciphertext");var n,i=libsodium._crypto_aead_chacha20poly1305_abytes(),l=e.length;l<i&&_free_and_throw_type_error(s,"ciphertext is too short"),n=_to_allocated_buf_address(e),s.push(n);var d=null,u=0;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"additional_data")),u=t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var p,y=0|libsodium._crypto_aead_chacha20poly1305_npubbytes();r.length!==y&&_free_and_throw_type_error(s,"invalid public_nonce length"),p=_to_allocated_buf_address(r),s.push(p),a=_any_to_Uint8Array(s,a,"key");var h,b=0|libsodium._crypto_aead_chacha20poly1305_keybytes();a.length!==b&&_free_and_throw_type_error(s,"invalid key length"),h=_to_allocated_buf_address(a),s.push(h);var f=new AllocatedBuf(l-libsodium._crypto_aead_chacha20poly1305_abytes()|0),m=f.address;if(s.push(m),0===libsodium._crypto_aead_chacha20poly1305_decrypt(m,null,c,n,l,0,d,u,0,p,h)){var v=_format_output(f,o);return _free_all(s),v}_free_and_throw_error(s,"ciphertext cannot be decrypted using that key")}export function crypto_aead_chacha20poly1305_decrypt_detached(_,e,t,r,a,o,s){var c=[];_check_output_format(s);var n=null;null!=_&&(n=_to_allocated_buf_address(_=_any_to_Uint8Array(c,_,"secret_nonce")),_.length,c.push(n));var i=_to_allocated_buf_address(e=_any_to_Uint8Array(c,e,"ciphertext")),l=e.length;c.push(i),t=_any_to_Uint8Array(c,t,"mac");var d,u=0|libsodium._crypto_box_macbytes();t.length!==u&&_free_and_throw_type_error(c,"invalid mac length"),d=_to_allocated_buf_address(t),c.push(d);var p=null,y=0;null!=r&&(p=_to_allocated_buf_address(r=_any_to_Uint8Array(c,r,"additional_data")),y=r.length,c.push(p)),a=_any_to_Uint8Array(c,a,"public_nonce");var h,b=0|libsodium._crypto_aead_chacha20poly1305_npubbytes();a.length!==b&&_free_and_throw_type_error(c,"invalid public_nonce length"),h=_to_allocated_buf_address(a),c.push(h),o=_any_to_Uint8Array(c,o,"key");var f,m=0|libsodium._crypto_aead_chacha20poly1305_keybytes();o.length!==m&&_free_and_throw_type_error(c,"invalid key length"),f=_to_allocated_buf_address(o),c.push(f);var v=new AllocatedBuf(0|l),g=v.address;if(c.push(g),0===libsodium._crypto_aead_chacha20poly1305_decrypt_detached(g,n,i,l,0,d,p,y,0,h,f)){var x=_format_output(v,s);return _free_all(c),x}_free_and_throw_error(c,"ciphertext cannot be decrypted using that key")}export function crypto_aead_chacha20poly1305_encrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_chacha20poly1305_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_chacha20poly1305_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(n+libsodium._crypto_aead_chacha20poly1305_abytes()|0),f=b.address;if(s.push(f),0===libsodium._crypto_aead_chacha20poly1305_encrypt(f,null,c,n,0,i,l,0,d,u,y)){var m=_format_output(b,o);return _free_all(s),m}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_chacha20poly1305_encrypt_detached(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_chacha20poly1305_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_chacha20poly1305_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(0|n),f=b.address;s.push(f);var m=new AllocatedBuf(0|libsodium._crypto_aead_chacha20poly1305_abytes()),v=m.address;if(s.push(v),0===libsodium._crypto_aead_chacha20poly1305_encrypt_detached(f,v,null,c,n,0,i,l,0,d,u,y)){var g=_format_output({ciphertext:b,mac:m},o);return _free_all(s),g}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_chacha20poly1305_ietf_decrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=null;null!=_&&(c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"secret_nonce")),_.length,s.push(c)),e=_any_to_Uint8Array(s,e,"ciphertext");var n,i=libsodium._crypto_aead_chacha20poly1305_ietf_abytes(),l=e.length;l<i&&_free_and_throw_type_error(s,"ciphertext is too short"),n=_to_allocated_buf_address(e),s.push(n);var d=null,u=0;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"additional_data")),u=t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var p,y=0|libsodium._crypto_aead_chacha20poly1305_ietf_npubbytes();r.length!==y&&_free_and_throw_type_error(s,"invalid public_nonce length"),p=_to_allocated_buf_address(r),s.push(p),a=_any_to_Uint8Array(s,a,"key");var h,b=0|libsodium._crypto_aead_chacha20poly1305_ietf_keybytes();a.length!==b&&_free_and_throw_type_error(s,"invalid key length"),h=_to_allocated_buf_address(a),s.push(h);var f=new AllocatedBuf(l-libsodium._crypto_aead_chacha20poly1305_ietf_abytes()|0),m=f.address;if(s.push(m),0===libsodium._crypto_aead_chacha20poly1305_ietf_decrypt(m,null,c,n,l,0,d,u,0,p,h)){var v=_format_output(f,o);return _free_all(s),v}_free_and_throw_error(s,"ciphertext cannot be decrypted using that key")}export function crypto_aead_chacha20poly1305_ietf_decrypt_detached(_,e,t,r,a,o,s){var c=[];_check_output_format(s);var n=null;null!=_&&(n=_to_allocated_buf_address(_=_any_to_Uint8Array(c,_,"secret_nonce")),_.length,c.push(n));var i=_to_allocated_buf_address(e=_any_to_Uint8Array(c,e,"ciphertext")),l=e.length;c.push(i),t=_any_to_Uint8Array(c,t,"mac");var d,u=0|libsodium._crypto_box_macbytes();t.length!==u&&_free_and_throw_type_error(c,"invalid mac length"),d=_to_allocated_buf_address(t),c.push(d);var p=null,y=0;null!=r&&(p=_to_allocated_buf_address(r=_any_to_Uint8Array(c,r,"additional_data")),y=r.length,c.push(p)),a=_any_to_Uint8Array(c,a,"public_nonce");var h,b=0|libsodium._crypto_aead_chacha20poly1305_ietf_npubbytes();a.length!==b&&_free_and_throw_type_error(c,"invalid public_nonce length"),h=_to_allocated_buf_address(a),c.push(h),o=_any_to_Uint8Array(c,o,"key");var f,m=0|libsodium._crypto_aead_chacha20poly1305_ietf_keybytes();o.length!==m&&_free_and_throw_type_error(c,"invalid key length"),f=_to_allocated_buf_address(o),c.push(f);var v=new AllocatedBuf(0|l),g=v.address;if(c.push(g),0===libsodium._crypto_aead_chacha20poly1305_ietf_decrypt_detached(g,n,i,l,0,d,p,y,0,h,f)){var x=_format_output(v,s);return _free_all(c),x}_free_and_throw_error(c,"ciphertext cannot be decrypted using that key")}export function crypto_aead_chacha20poly1305_ietf_encrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_chacha20poly1305_ietf_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_chacha20poly1305_ietf_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(n+libsodium._crypto_aead_chacha20poly1305_ietf_abytes()|0),f=b.address;if(s.push(f),0===libsodium._crypto_aead_chacha20poly1305_ietf_encrypt(f,null,c,n,0,i,l,0,d,u,y)){var m=_format_output(b,o);return _free_all(s),m}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_chacha20poly1305_ietf_encrypt_detached(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_chacha20poly1305_ietf_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_chacha20poly1305_ietf_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(0|n),f=b.address;s.push(f);var m=new AllocatedBuf(0|libsodium._crypto_aead_chacha20poly1305_ietf_abytes()),v=m.address;if(s.push(v),0===libsodium._crypto_aead_chacha20poly1305_ietf_encrypt_detached(f,v,null,c,n,0,i,l,0,d,u,y)){var g=_format_output({ciphertext:b,mac:m},o);return _free_all(s),g}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_chacha20poly1305_ietf_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_aead_chacha20poly1305_ietf_keybytes()),r=t.address;e.push(r),libsodium._crypto_aead_chacha20poly1305_ietf_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_aead_chacha20poly1305_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_aead_chacha20poly1305_keybytes()),r=t.address;e.push(r),libsodium._crypto_aead_chacha20poly1305_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_aead_xchacha20poly1305_ietf_decrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=null;null!=_&&(c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"secret_nonce")),_.length,s.push(c)),e=_any_to_Uint8Array(s,e,"ciphertext");var n,i=libsodium._crypto_aead_xchacha20poly1305_ietf_abytes(),l=e.length;l<i&&_free_and_throw_type_error(s,"ciphertext is too short"),n=_to_allocated_buf_address(e),s.push(n);var d=null,u=0;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"additional_data")),u=t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var p,y=0|libsodium._crypto_aead_xchacha20poly1305_ietf_npubbytes();r.length!==y&&_free_and_throw_type_error(s,"invalid public_nonce length"),p=_to_allocated_buf_address(r),s.push(p),a=_any_to_Uint8Array(s,a,"key");var h,b=0|libsodium._crypto_aead_xchacha20poly1305_ietf_keybytes();a.length!==b&&_free_and_throw_type_error(s,"invalid key length"),h=_to_allocated_buf_address(a),s.push(h);var f=new AllocatedBuf(l-libsodium._crypto_aead_xchacha20poly1305_ietf_abytes()|0),m=f.address;if(s.push(m),0===libsodium._crypto_aead_xchacha20poly1305_ietf_decrypt(m,null,c,n,l,0,d,u,0,p,h)){var v=_format_output(f,o);return _free_all(s),v}_free_and_throw_error(s,"ciphertext cannot be decrypted using that key")}export function crypto_aead_xchacha20poly1305_ietf_decrypt_detached(_,e,t,r,a,o,s){var c=[];_check_output_format(s);var n=null;null!=_&&(n=_to_allocated_buf_address(_=_any_to_Uint8Array(c,_,"secret_nonce")),_.length,c.push(n));var i=_to_allocated_buf_address(e=_any_to_Uint8Array(c,e,"ciphertext")),l=e.length;c.push(i),t=_any_to_Uint8Array(c,t,"mac");var d,u=0|libsodium._crypto_box_macbytes();t.length!==u&&_free_and_throw_type_error(c,"invalid mac length"),d=_to_allocated_buf_address(t),c.push(d);var p=null,y=0;null!=r&&(p=_to_allocated_buf_address(r=_any_to_Uint8Array(c,r,"additional_data")),y=r.length,c.push(p)),a=_any_to_Uint8Array(c,a,"public_nonce");var h,b=0|libsodium._crypto_aead_xchacha20poly1305_ietf_npubbytes();a.length!==b&&_free_and_throw_type_error(c,"invalid public_nonce length"),h=_to_allocated_buf_address(a),c.push(h),o=_any_to_Uint8Array(c,o,"key");var f,m=0|libsodium._crypto_aead_xchacha20poly1305_ietf_keybytes();o.length!==m&&_free_and_throw_type_error(c,"invalid key length"),f=_to_allocated_buf_address(o),c.push(f);var v=new AllocatedBuf(0|l),g=v.address;if(c.push(g),0===libsodium._crypto_aead_xchacha20poly1305_ietf_decrypt_detached(g,n,i,l,0,d,p,y,0,h,f)){var x=_format_output(v,s);return _free_all(c),x}_free_and_throw_error(c,"ciphertext cannot be decrypted using that key")}export function crypto_aead_xchacha20poly1305_ietf_encrypt(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_xchacha20poly1305_ietf_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_xchacha20poly1305_ietf_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(n+libsodium._crypto_aead_xchacha20poly1305_ietf_abytes()|0),f=b.address;if(s.push(f),0===libsodium._crypto_aead_xchacha20poly1305_ietf_encrypt(f,null,c,n,0,i,l,0,d,u,y)){var m=_format_output(b,o);return _free_all(s),m}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_xchacha20poly1305_ietf_encrypt_detached(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"message")),n=_.length;s.push(c);var i=null,l=0;null!=e&&(i=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"additional_data")),l=e.length,s.push(i));var d=null;null!=t&&(d=_to_allocated_buf_address(t=_any_to_Uint8Array(s,t,"secret_nonce")),t.length,s.push(d)),r=_any_to_Uint8Array(s,r,"public_nonce");var u,p=0|libsodium._crypto_aead_xchacha20poly1305_ietf_npubbytes();r.length!==p&&_free_and_throw_type_error(s,"invalid public_nonce length"),u=_to_allocated_buf_address(r),s.push(u),a=_any_to_Uint8Array(s,a,"key");var y,h=0|libsodium._crypto_aead_xchacha20poly1305_ietf_keybytes();a.length!==h&&_free_and_throw_type_error(s,"invalid key length"),y=_to_allocated_buf_address(a),s.push(y);var b=new AllocatedBuf(0|n),f=b.address;s.push(f);var m=new AllocatedBuf(0|libsodium._crypto_aead_xchacha20poly1305_ietf_abytes()),v=m.address;if(s.push(v),0===libsodium._crypto_aead_xchacha20poly1305_ietf_encrypt_detached(f,v,null,c,n,0,i,l,0,d,u,y)){var g=_format_output({ciphertext:b,mac:m},o);return _free_all(s),g}_free_and_throw_error(s,"invalid usage")}export function crypto_aead_xchacha20poly1305_ietf_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_aead_xchacha20poly1305_ietf_keybytes()),r=t.address;e.push(r),libsodium._crypto_aead_xchacha20poly1305_ietf_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_auth(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"key");var s,c=0|libsodium._crypto_auth_keybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid key length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_auth_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_auth(i,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_auth_hmacsha256(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"key");var s,c=0|libsodium._crypto_auth_hmacsha256_keybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid key length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha256_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_auth_hmacsha256(i,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_auth_hmacsha256_final(_,e){var t=[];_check_output_format(e),_require_defined(t,_,"state_address");var r=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha256_bytes()),a=r.address;if(t.push(a),!(0|libsodium._crypto_auth_hmacsha256_final(_,a))){var o=(libsodium._free(_),_format_output(r,e));return _free_all(t),o}_free_and_throw_error(t,"invalid usage")}export function crypto_auth_hmacsha256_init(_,e){var t=[];_check_output_format(e);var r=null,a=0;null!=_&&(r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"key")),a=_.length,t.push(r));var o=new AllocatedBuf(208).address;if(!(0|libsodium._crypto_auth_hmacsha256_init(o,r,a))){var s=o;return _free_all(t),s}_free_and_throw_error(t,"invalid usage")}export function crypto_auth_hmacsha256_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha256_keybytes()),r=t.address;e.push(r),libsodium._crypto_auth_hmacsha256_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_auth_hmacsha256_update(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address");var a=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message_chunk")),o=e.length;r.push(a),0|libsodium._crypto_auth_hmacsha256_update(_,a,o)&&_free_and_throw_error(r,"invalid usage"),_free_all(r)}export function crypto_auth_hmacsha256_verify(_,e,t){var r=[];_=_any_to_Uint8Array(r,_,"tag");var a,o=0|libsodium._crypto_auth_hmacsha256_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid tag length"),a=_to_allocated_buf_address(_),r.push(a);var s=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message")),c=e.length;r.push(s),t=_any_to_Uint8Array(r,t,"key");var n,i=0|libsodium._crypto_auth_hmacsha256_keybytes();t.length!==i&&_free_and_throw_type_error(r,"invalid key length"),n=_to_allocated_buf_address(t),r.push(n);var l=!(0|libsodium._crypto_auth_hmacsha256_verify(a,s,c,0,n));return _free_all(r),l}export function crypto_auth_hmacsha512(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"key");var s,c=0|libsodium._crypto_auth_hmacsha512_keybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid key length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha512_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_auth_hmacsha512(i,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_auth_hmacsha512256(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"key");var s,c=0|libsodium._crypto_auth_hmacsha512256_keybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid key length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha512256_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_auth_hmacsha512256(i,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_auth_hmacsha512256_final(_,e){var t=[];_check_output_format(e),_require_defined(t,_,"state_address");var r=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha512256_bytes()),a=r.address;if(t.push(a),!(0|libsodium._crypto_auth_hmacsha512256_final(_,a))){var o=(libsodium._free(_),_format_output(r,e));return _free_all(t),o}_free_and_throw_error(t,"invalid usage")}export function crypto_auth_hmacsha512256_init(_,e){var t=[];_check_output_format(e);var r=null,a=0;null!=_&&(r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"key")),a=_.length,t.push(r));var o=new AllocatedBuf(416).address;if(!(0|libsodium._crypto_auth_hmacsha512256_init(o,r,a))){var s=o;return _free_all(t),s}_free_and_throw_error(t,"invalid usage")}export function crypto_auth_hmacsha512256_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha512256_keybytes()),r=t.address;e.push(r),libsodium._crypto_auth_hmacsha512256_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_auth_hmacsha512256_update(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address");var a=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message_chunk")),o=e.length;r.push(a),0|libsodium._crypto_auth_hmacsha512256_update(_,a,o)&&_free_and_throw_error(r,"invalid usage"),_free_all(r)}export function crypto_auth_hmacsha512256_verify(_,e,t){var r=[];_=_any_to_Uint8Array(r,_,"tag");var a,o=0|libsodium._crypto_auth_hmacsha512256_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid tag length"),a=_to_allocated_buf_address(_),r.push(a);var s=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message")),c=e.length;r.push(s),t=_any_to_Uint8Array(r,t,"key");var n,i=0|libsodium._crypto_auth_hmacsha512256_keybytes();t.length!==i&&_free_and_throw_type_error(r,"invalid key length"),n=_to_allocated_buf_address(t),r.push(n);var l=!(0|libsodium._crypto_auth_hmacsha512256_verify(a,s,c,0,n));return _free_all(r),l}export function crypto_auth_hmacsha512_final(_,e){var t=[];_check_output_format(e),_require_defined(t,_,"state_address");var r=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha512_bytes()),a=r.address;if(t.push(a),!(0|libsodium._crypto_auth_hmacsha512_final(_,a))){var o=(libsodium._free(_),_format_output(r,e));return _free_all(t),o}_free_and_throw_error(t,"invalid usage")}export function crypto_auth_hmacsha512_init(_,e){var t=[];_check_output_format(e);var r=null,a=0;null!=_&&(r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"key")),a=_.length,t.push(r));var o=new AllocatedBuf(416).address;if(!(0|libsodium._crypto_auth_hmacsha512_init(o,r,a))){var s=o;return _free_all(t),s}_free_and_throw_error(t,"invalid usage")}export function crypto_auth_hmacsha512_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_auth_hmacsha512_keybytes()),r=t.address;e.push(r),libsodium._crypto_auth_hmacsha512_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_auth_hmacsha512_update(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address");var a=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message_chunk")),o=e.length;r.push(a),0|libsodium._crypto_auth_hmacsha512_update(_,a,o)&&_free_and_throw_error(r,"invalid usage"),_free_all(r)}export function crypto_auth_hmacsha512_verify(_,e,t){var r=[];_=_any_to_Uint8Array(r,_,"tag");var a,o=0|libsodium._crypto_auth_hmacsha512_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid tag length"),a=_to_allocated_buf_address(_),r.push(a);var s=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message")),c=e.length;r.push(s),t=_any_to_Uint8Array(r,t,"key");var n,i=0|libsodium._crypto_auth_hmacsha512_keybytes();t.length!==i&&_free_and_throw_type_error(r,"invalid key length"),n=_to_allocated_buf_address(t),r.push(n);var l=!(0|libsodium._crypto_auth_hmacsha512_verify(a,s,c,0,n));return _free_all(r),l}export function crypto_auth_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_auth_keybytes()),r=t.address;e.push(r),libsodium._crypto_auth_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_auth_verify(_,e,t){var r=[];_=_any_to_Uint8Array(r,_,"tag");var a,o=0|libsodium._crypto_auth_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid tag length"),a=_to_allocated_buf_address(_),r.push(a);var s=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message")),c=e.length;r.push(s),t=_any_to_Uint8Array(r,t,"key");var n,i=0|libsodium._crypto_auth_keybytes();t.length!==i&&_free_and_throw_type_error(r,"invalid key length"),n=_to_allocated_buf_address(t),r.push(n);var l=!(0|libsodium._crypto_auth_verify(a,s,c,0,n));return _free_all(r),l}export function crypto_box_beforenm(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"publicKey");var a,o=0|libsodium._crypto_box_publickeybytes();_.length!==o&&_free_and_throw_type_error(r,"invalid publicKey length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"privateKey");var s,c=0|libsodium._crypto_box_secretkeybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid privateKey length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_box_beforenmbytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_box_beforenm(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_box_curve25519xchacha20poly1305_beforenm(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"publicKey");var a,o=0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes();_.length!==o&&_free_and_throw_type_error(r,"invalid publicKey length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"privateKey");var s,c=0|libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid privateKey length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_box_curve25519xchacha20poly1305_beforenmbytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_beforenm(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_box_curve25519xchacha20poly1305_detached(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"message")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var n,i=0|libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes();e.length!==i&&_free_and_throw_type_error(o,"invalid nonce length"),n=_to_allocated_buf_address(e),o.push(n),t=_any_to_Uint8Array(o,t,"publicKey");var l,d=0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes();t.length!==d&&_free_and_throw_type_error(o,"invalid publicKey length"),l=_to_allocated_buf_address(t),o.push(l),r=_any_to_Uint8Array(o,r,"privateKey");var u,p=0|libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes();r.length!==p&&_free_and_throw_type_error(o,"invalid privateKey length"),u=_to_allocated_buf_address(r),o.push(u);var y=new AllocatedBuf(0|c),h=y.address;o.push(h);var b=new AllocatedBuf(0|libsodium._crypto_box_curve25519xchacha20poly1305_macbytes()),f=b.address;if(o.push(f),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_detached(h,f,s,c,0,n,l,u))){var m=_format_output({ciphertext:y,mac:b},a);return _free_all(o),m}_free_and_throw_error(o,"invalid usage")}export function crypto_box_curve25519xchacha20poly1305_detached_afternm(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"message")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"sharedKey");var i,l=0|libsodium._crypto_box_curve25519xchacha20poly1305_beforenmbytes();t.length!==l&&_free_and_throw_type_error(a,"invalid sharedKey length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(0|s),u=d.address;a.push(u);var p=new AllocatedBuf(0|libsodium._crypto_box_curve25519xchacha20poly1305_macbytes()),y=p.address;if(a.push(y),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_detached_afternm(u,y,o,s,0,c,i))){var h=_format_output({ciphertext:d,mac:p},r);return _free_all(a),h}_free_and_throw_error(a,"invalid usage")}export function crypto_box_curve25519xchacha20poly1305_easy(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"message")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var n,i=0|libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes();e.length!==i&&_free_and_throw_type_error(o,"invalid nonce length"),n=_to_allocated_buf_address(e),o.push(n),t=_any_to_Uint8Array(o,t,"publicKey");var l,d=0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes();t.length!==d&&_free_and_throw_type_error(o,"invalid publicKey length"),l=_to_allocated_buf_address(t),o.push(l),r=_any_to_Uint8Array(o,r,"privateKey");var u,p=0|libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes();r.length!==p&&_free_and_throw_type_error(o,"invalid privateKey length"),u=_to_allocated_buf_address(r),o.push(u);var y=new AllocatedBuf(c+libsodium._crypto_box_curve25519xchacha20poly1305_macbytes()|0),h=y.address;if(o.push(h),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_easy(h,s,c,0,n,l,u))){var b=_format_output(y,a);return _free_all(o),b}_free_and_throw_error(o,"invalid usage")}export function crypto_box_curve25519xchacha20poly1305_easy_afternm(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"message")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"sharedKey");var i,l=0|libsodium._crypto_box_curve25519xchacha20poly1305_beforenmbytes();t.length!==l&&_free_and_throw_type_error(a,"invalid sharedKey length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(s+libsodium._crypto_box_curve25519xchacha20poly1305_macbytes()|0),u=d.address;if(a.push(u),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_easy_afternm(u,o,s,0,c,i))){var p=_format_output(d,r);return _free_all(a),p}_free_and_throw_error(a,"invalid usage")}export function crypto_box_curve25519xchacha20poly1305_keypair(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes()),r=t.address;e.push(r);var a=new AllocatedBuf(0|libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes()),o=a.address;e.push(o),libsodium._crypto_box_curve25519xchacha20poly1305_keypair(r,o);var s=_format_output({publicKey:t,privateKey:a,keyType:"curve25519"},_);return _free_all(e),s}export function crypto_box_curve25519xchacha20poly1305_open_detached(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"ciphertext")),n=_.length;s.push(c),e=_any_to_Uint8Array(s,e,"mac");var i,l=0|libsodium._crypto_box_curve25519xchacha20poly1305_macbytes();e.length!==l&&_free_and_throw_type_error(s,"invalid mac length"),i=_to_allocated_buf_address(e),s.push(i),t=_any_to_Uint8Array(s,t,"nonce");var d,u=0|libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes();t.length!==u&&_free_and_throw_type_error(s,"invalid nonce length"),d=_to_allocated_buf_address(t),s.push(d),r=_any_to_Uint8Array(s,r,"publicKey");var p,y=0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes();r.length!==y&&_free_and_throw_type_error(s,"invalid publicKey length"),p=_to_allocated_buf_address(r),s.push(p),a=_any_to_Uint8Array(s,a,"privateKey");var h,b=0|libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes();a.length!==b&&_free_and_throw_type_error(s,"invalid privateKey length"),h=_to_allocated_buf_address(a),s.push(h);var f=new AllocatedBuf(0|n),m=f.address;if(s.push(m),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_open_detached(m,c,i,n,0,d,p,h))){var v=_format_output(f,o);return _free_all(s),v}_free_and_throw_error(s,"incorrect key pair for the given ciphertext")}export function crypto_box_curve25519xchacha20poly1305_open_detached_afternm(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"ciphertext")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"mac");var n,i=0|libsodium._crypto_box_curve25519xchacha20poly1305_macbytes();e.length!==i&&_free_and_throw_type_error(o,"invalid mac length"),n=_to_allocated_buf_address(e),o.push(n),t=_any_to_Uint8Array(o,t,"nonce");var l,d=0|libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes();t.length!==d&&_free_and_throw_type_error(o,"invalid nonce length"),l=_to_allocated_buf_address(t),o.push(l),r=_any_to_Uint8Array(o,r,"sharedKey");var u,p=0|libsodium._crypto_box_curve25519xchacha20poly1305_beforenmbytes();r.length!==p&&_free_and_throw_type_error(o,"invalid sharedKey length"),u=_to_allocated_buf_address(r),o.push(u);var y=new AllocatedBuf(0|c),h=y.address;if(o.push(h),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_open_detached_afternm(h,s,n,c,0,l,u))){var b=_format_output(y,a);return _free_all(o),b}_free_and_throw_error(o,"incorrect secret key for the given ciphertext")}export function crypto_box_curve25519xchacha20poly1305_open_easy(_,e,t,r,a){var o=[];_check_output_format(a),_=_any_to_Uint8Array(o,_,"ciphertext");var s,c=libsodium._crypto_box_curve25519xchacha20poly1305_macbytes(),n=_.length;n<c&&_free_and_throw_type_error(o,"ciphertext is too short"),s=_to_allocated_buf_address(_),o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var i,l=0|libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes();e.length!==l&&_free_and_throw_type_error(o,"invalid nonce length"),i=_to_allocated_buf_address(e),o.push(i),t=_any_to_Uint8Array(o,t,"publicKey");var d,u=0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes();t.length!==u&&_free_and_throw_type_error(o,"invalid publicKey length"),d=_to_allocated_buf_address(t),o.push(d),r=_any_to_Uint8Array(o,r,"privateKey");var p,y=0|libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes();r.length!==y&&_free_and_throw_type_error(o,"invalid privateKey length"),p=_to_allocated_buf_address(r),o.push(p);var h=new AllocatedBuf(n-libsodium._crypto_box_curve25519xchacha20poly1305_macbytes()|0),b=h.address;if(o.push(b),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_open_easy(b,s,n,0,i,d,p))){var f=_format_output(h,a);return _free_all(o),f}_free_and_throw_error(o,"incorrect key pair for the given ciphertext")}export function crypto_box_curve25519xchacha20poly1305_open_easy_afternm(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"ciphertext")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_box_curve25519xchacha20poly1305_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"sharedKey");var i,l=0|libsodium._crypto_box_curve25519xchacha20poly1305_beforenmbytes();t.length!==l&&_free_and_throw_type_error(a,"invalid sharedKey length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(s-libsodium._crypto_box_curve25519xchacha20poly1305_macbytes()|0),u=d.address;if(a.push(u),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_open_easy_afternm(u,o,s,0,c,i))){var p=_format_output(d,r);return _free_all(a),p}_free_and_throw_error(a,"incorrect secret key for the given ciphertext")}export function crypto_box_curve25519xchacha20poly1305_seal(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"publicKey");var s,c=0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid publicKey length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(o+libsodium._crypto_box_curve25519xchacha20poly1305_sealbytes()|0),i=n.address;r.push(i),libsodium._crypto_box_curve25519xchacha20poly1305_seal(i,a,o,0,s);var l=_format_output(n,t);return _free_all(r),l}export function crypto_box_curve25519xchacha20poly1305_seal_open(_,e,t,r){var a=[];_check_output_format(r),_=_any_to_Uint8Array(a,_,"ciphertext");var o,s=libsodium._crypto_box_curve25519xchacha20poly1305_sealbytes(),c=_.length;c<s&&_free_and_throw_type_error(a,"ciphertext is too short"),o=_to_allocated_buf_address(_),a.push(o),e=_any_to_Uint8Array(a,e,"publicKey");var n,i=0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes();e.length!==i&&_free_and_throw_type_error(a,"invalid publicKey length"),n=_to_allocated_buf_address(e),a.push(n),t=_any_to_Uint8Array(a,t,"secretKey");var l,d=0|libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes();t.length!==d&&_free_and_throw_type_error(a,"invalid secretKey length"),l=_to_allocated_buf_address(t),a.push(l);var u=new AllocatedBuf(c-libsodium._crypto_box_curve25519xchacha20poly1305_sealbytes()|0),p=u.address;a.push(p),libsodium._crypto_box_curve25519xchacha20poly1305_seal_open(p,o,c,0,n,l);var y=_format_output(u,r);return _free_all(a),y}export function crypto_box_curve25519xchacha20poly1305_seed_keypair(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"seed");var r,a=0|libsodium._crypto_box_curve25519xchacha20poly1305_seedbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid seed length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_box_curve25519xchacha20poly1305_publickeybytes()),s=o.address;t.push(s);var c=new AllocatedBuf(0|libsodium._crypto_box_curve25519xchacha20poly1305_secretkeybytes()),n=c.address;if(t.push(n),!(0|libsodium._crypto_box_curve25519xchacha20poly1305_seed_keypair(s,n,r))){var i={publicKey:_format_output(o,e),privateKey:_format_output(c,e),keyType:"x25519"};return _free_all(t),i}_free_and_throw_error(t,"invalid usage")}export function crypto_box_detached(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"message")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var n,i=0|libsodium._crypto_box_noncebytes();e.length!==i&&_free_and_throw_type_error(o,"invalid nonce length"),n=_to_allocated_buf_address(e),o.push(n),t=_any_to_Uint8Array(o,t,"publicKey");var l,d=0|libsodium._crypto_box_publickeybytes();t.length!==d&&_free_and_throw_type_error(o,"invalid publicKey length"),l=_to_allocated_buf_address(t),o.push(l),r=_any_to_Uint8Array(o,r,"privateKey");var u,p=0|libsodium._crypto_box_secretkeybytes();r.length!==p&&_free_and_throw_type_error(o,"invalid privateKey length"),u=_to_allocated_buf_address(r),o.push(u);var y=new AllocatedBuf(0|c),h=y.address;o.push(h);var b=new AllocatedBuf(0|libsodium._crypto_box_macbytes()),f=b.address;if(o.push(f),!(0|libsodium._crypto_box_detached(h,f,s,c,0,n,l,u))){var m=_format_output({ciphertext:y,mac:b},a);return _free_all(o),m}_free_and_throw_error(o,"invalid usage")}export function crypto_box_easy(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"message")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var n,i=0|libsodium._crypto_box_noncebytes();e.length!==i&&_free_and_throw_type_error(o,"invalid nonce length"),n=_to_allocated_buf_address(e),o.push(n),t=_any_to_Uint8Array(o,t,"publicKey");var l,d=0|libsodium._crypto_box_publickeybytes();t.length!==d&&_free_and_throw_type_error(o,"invalid publicKey length"),l=_to_allocated_buf_address(t),o.push(l),r=_any_to_Uint8Array(o,r,"privateKey");var u,p=0|libsodium._crypto_box_secretkeybytes();r.length!==p&&_free_and_throw_type_error(o,"invalid privateKey length"),u=_to_allocated_buf_address(r),o.push(u);var y=new AllocatedBuf(c+libsodium._crypto_box_macbytes()|0),h=y.address;if(o.push(h),!(0|libsodium._crypto_box_easy(h,s,c,0,n,l,u))){var b=_format_output(y,a);return _free_all(o),b}_free_and_throw_error(o,"invalid usage")}export function crypto_box_easy_afternm(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"message")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_box_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"sharedKey");var i,l=0|libsodium._crypto_box_beforenmbytes();t.length!==l&&_free_and_throw_type_error(a,"invalid sharedKey length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(s+libsodium._crypto_box_macbytes()|0),u=d.address;if(a.push(u),!(0|libsodium._crypto_box_easy_afternm(u,o,s,0,c,i))){var p=_format_output(d,r);return _free_all(a),p}_free_and_throw_error(a,"invalid usage")}export function crypto_box_keypair(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_box_publickeybytes()),r=t.address;e.push(r);var a=new AllocatedBuf(0|libsodium._crypto_box_secretkeybytes()),o=a.address;if(e.push(o),!(0|libsodium._crypto_box_keypair(r,o))){var s={publicKey:_format_output(t,_),privateKey:_format_output(a,_),keyType:"x25519"};return _free_all(e),s}_free_and_throw_error(e,"internal error")}export function crypto_box_open_detached(_,e,t,r,a,o){var s=[];_check_output_format(o);var c=_to_allocated_buf_address(_=_any_to_Uint8Array(s,_,"ciphertext")),n=_.length;s.push(c),e=_any_to_Uint8Array(s,e,"mac");var i,l=0|libsodium._crypto_box_macbytes();e.length!==l&&_free_and_throw_type_error(s,"invalid mac length"),i=_to_allocated_buf_address(e),s.push(i),t=_any_to_Uint8Array(s,t,"nonce");var d,u=0|libsodium._crypto_box_noncebytes();t.length!==u&&_free_and_throw_type_error(s,"invalid nonce length"),d=_to_allocated_buf_address(t),s.push(d),r=_any_to_Uint8Array(s,r,"publicKey");var p,y=0|libsodium._crypto_box_publickeybytes();r.length!==y&&_free_and_throw_type_error(s,"invalid publicKey length"),p=_to_allocated_buf_address(r),s.push(p),a=_any_to_Uint8Array(s,a,"privateKey");var h,b=0|libsodium._crypto_box_secretkeybytes();a.length!==b&&_free_and_throw_type_error(s,"invalid privateKey length"),h=_to_allocated_buf_address(a),s.push(h);var f=new AllocatedBuf(0|n),m=f.address;if(s.push(m),!(0|libsodium._crypto_box_open_detached(m,c,i,n,0,d,p,h))){var v=_format_output(f,o);return _free_all(s),v}_free_and_throw_error(s,"incorrect key pair for the given ciphertext")}export function crypto_box_open_easy(_,e,t,r,a){var o=[];_check_output_format(a),_=_any_to_Uint8Array(o,_,"ciphertext");var s,c=libsodium._crypto_box_macbytes(),n=_.length;n<c&&_free_and_throw_type_error(o,"ciphertext is too short"),s=_to_allocated_buf_address(_),o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var i,l=0|libsodium._crypto_box_noncebytes();e.length!==l&&_free_and_throw_type_error(o,"invalid nonce length"),i=_to_allocated_buf_address(e),o.push(i),t=_any_to_Uint8Array(o,t,"publicKey");var d,u=0|libsodium._crypto_box_publickeybytes();t.length!==u&&_free_and_throw_type_error(o,"invalid publicKey length"),d=_to_allocated_buf_address(t),o.push(d),r=_any_to_Uint8Array(o,r,"privateKey");var p,y=0|libsodium._crypto_box_secretkeybytes();r.length!==y&&_free_and_throw_type_error(o,"invalid privateKey length"),p=_to_allocated_buf_address(r),o.push(p);var h=new AllocatedBuf(n-libsodium._crypto_box_macbytes()|0),b=h.address;if(o.push(b),!(0|libsodium._crypto_box_open_easy(b,s,n,0,i,d,p))){var f=_format_output(h,a);return _free_all(o),f}_free_and_throw_error(o,"incorrect key pair for the given ciphertext")}export function crypto_box_open_easy_afternm(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"ciphertext")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_box_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"sharedKey");var i,l=0|libsodium._crypto_box_beforenmbytes();t.length!==l&&_free_and_throw_type_error(a,"invalid sharedKey length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(s-libsodium._crypto_box_macbytes()|0),u=d.address;if(a.push(u),!(0|libsodium._crypto_box_open_easy_afternm(u,o,s,0,c,i))){var p=_format_output(d,r);return _free_all(a),p}_free_and_throw_error(a,"incorrect secret key for the given ciphertext")}export function crypto_box_seal(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"publicKey");var s,c=0|libsodium._crypto_box_publickeybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid publicKey length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(o+libsodium._crypto_box_sealbytes()|0),i=n.address;if(r.push(i),!(0|libsodium._crypto_box_seal(i,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_box_seal_open(_,e,t,r){var a=[];_check_output_format(r),_=_any_to_Uint8Array(a,_,"ciphertext");var o,s=libsodium._crypto_box_sealbytes(),c=_.length;c<s&&_free_and_throw_type_error(a,"ciphertext is too short"),o=_to_allocated_buf_address(_),a.push(o),e=_any_to_Uint8Array(a,e,"publicKey");var n,i=0|libsodium._crypto_box_publickeybytes();e.length!==i&&_free_and_throw_type_error(a,"invalid publicKey length"),n=_to_allocated_buf_address(e),a.push(n),t=_any_to_Uint8Array(a,t,"privateKey");var l,d=0|libsodium._crypto_box_secretkeybytes();t.length!==d&&_free_and_throw_type_error(a,"invalid privateKey length"),l=_to_allocated_buf_address(t),a.push(l);var u=new AllocatedBuf(c-libsodium._crypto_box_sealbytes()|0),p=u.address;if(a.push(p),!(0|libsodium._crypto_box_seal_open(p,o,c,0,n,l))){var y=_format_output(u,r);return _free_all(a),y}_free_and_throw_error(a,"incorrect key pair for the given ciphertext")}export function crypto_box_seed_keypair(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"seed");var r,a=0|libsodium._crypto_box_seedbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid seed length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_box_publickeybytes()),s=o.address;t.push(s);var c=new AllocatedBuf(0|libsodium._crypto_box_secretkeybytes()),n=c.address;if(t.push(n),!(0|libsodium._crypto_box_seed_keypair(s,n,r))){var i={publicKey:_format_output(o,e),privateKey:_format_output(c,e),keyType:"x25519"};return _free_all(t),i}_free_and_throw_error(t,"invalid usage")}export function crypto_core_ed25519_add(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"p");var a,o=0|libsodium._crypto_core_ed25519_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid p length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"q");var s,c=0|libsodium._crypto_core_ed25519_bytes();e.length!==c&&_free_and_throw_type_error(r,"invalid q length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ed25519_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_core_ed25519_add(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"input is an invalid element")}export function crypto_core_ed25519_from_hash(_,e){var t=[];_check_output_format(e);var r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"r"));_.length,t.push(r);var a=new AllocatedBuf(0|libsodium._crypto_core_ed25519_bytes()),o=a.address;if(t.push(o),!(0|libsodium._crypto_core_ed25519_from_hash(o,r))){var s=_format_output(a,e);return _free_all(t),s}_free_and_throw_error(t,"invalid usage")}export function crypto_core_ed25519_from_uniform(_,e){var t=[];_check_output_format(e);var r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"r"));_.length,t.push(r);var a=new AllocatedBuf(0|libsodium._crypto_core_ed25519_bytes()),o=a.address;if(t.push(o),!(0|libsodium._crypto_core_ed25519_from_uniform(o,r))){var s=_format_output(a,e);return _free_all(t),s}_free_and_throw_error(t,"invalid usage")}export function crypto_core_ed25519_is_valid_point(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"repr");var r,a=0|libsodium._crypto_core_ed25519_bytes();_.length!==a&&_free_and_throw_type_error(t,"invalid repr length"),r=_to_allocated_buf_address(_),t.push(r);var o=1==(0|libsodium._crypto_core_ed25519_is_valid_point(r));return _free_all(t),o}export function crypto_core_ed25519_random(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_core_ed25519_bytes()),r=t.address;e.push(r),libsodium._crypto_core_ed25519_random(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_core_ed25519_scalar_add(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"x");var a,o=0|libsodium._crypto_core_ed25519_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid x length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"y");var s,c=0|libsodium._crypto_core_ed25519_scalarbytes();e.length!==c&&_free_and_throw_type_error(r,"invalid y length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ed25519_scalarbytes()),i=n.address;r.push(i),libsodium._crypto_core_ed25519_scalar_add(i,a,s);var l=_format_output(n,t);return _free_all(r),l}export function crypto_core_ed25519_scalar_complement(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"s");var r,a=0|libsodium._crypto_core_ed25519_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid s length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ed25519_scalarbytes()),s=o.address;t.push(s),libsodium._crypto_core_ed25519_scalar_complement(s,r);var c=_format_output(o,e);return _free_all(t),c}export function crypto_core_ed25519_scalar_invert(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"s");var r,a=0|libsodium._crypto_core_ed25519_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid s length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ed25519_scalarbytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_core_ed25519_scalar_invert(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid reciprocate")}export function crypto_core_ed25519_scalar_mul(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"x");var a,o=0|libsodium._crypto_core_ed25519_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid x length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"y");var s,c=0|libsodium._crypto_core_ed25519_scalarbytes();e.length!==c&&_free_and_throw_type_error(r,"invalid y length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ed25519_scalarbytes()),i=n.address;r.push(i),libsodium._crypto_core_ed25519_scalar_mul(i,a,s);var l=_format_output(n,t);return _free_all(r),l}export function crypto_core_ed25519_scalar_negate(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"s");var r,a=0|libsodium._crypto_core_ed25519_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid s length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ed25519_scalarbytes()),s=o.address;t.push(s),libsodium._crypto_core_ed25519_scalar_negate(s,r);var c=_format_output(o,e);return _free_all(t),c}export function crypto_core_ed25519_scalar_random(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_core_ed25519_scalarbytes()),r=t.address;e.push(r),libsodium._crypto_core_ed25519_scalar_random(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_core_ed25519_scalar_reduce(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"sample");var r,a=0|libsodium._crypto_core_ed25519_nonreducedscalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid sample length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ed25519_scalarbytes()),s=o.address;t.push(s),libsodium._crypto_core_ed25519_scalar_reduce(s,r);var c=_format_output(o,e);return _free_all(t),c}export function crypto_core_ed25519_scalar_sub(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"x");var a,o=0|libsodium._crypto_core_ed25519_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid x length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"y");var s,c=0|libsodium._crypto_core_ed25519_scalarbytes();e.length!==c&&_free_and_throw_type_error(r,"invalid y length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ed25519_scalarbytes()),i=n.address;r.push(i),libsodium._crypto_core_ed25519_scalar_sub(i,a,s);var l=_format_output(n,t);return _free_all(r),l}export function crypto_core_ed25519_sub(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"p");var a,o=0|libsodium._crypto_core_ed25519_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid p length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"q");var s,c=0|libsodium._crypto_core_ed25519_bytes();e.length!==c&&_free_and_throw_type_error(r,"invalid q length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ed25519_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_core_ed25519_sub(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"input is an invalid element")}export function crypto_core_hchacha20(_,e,t,r){var a=[];_check_output_format(r),_=_any_to_Uint8Array(a,_,"input");var o,s=0|libsodium._crypto_core_hchacha20_inputbytes();_.length!==s&&_free_and_throw_type_error(a,"invalid input length"),o=_to_allocated_buf_address(_),a.push(o),e=_any_to_Uint8Array(a,e,"privateKey");var c,n=0|libsodium._crypto_core_hchacha20_keybytes();e.length!==n&&_free_and_throw_type_error(a,"invalid privateKey length"),c=_to_allocated_buf_address(e),a.push(c);var i=null;null!=t&&(i=_to_allocated_buf_address(t=_any_to_Uint8Array(a,t,"constant")),t.length,a.push(i));var l=new AllocatedBuf(0|libsodium._crypto_core_hchacha20_outputbytes()),d=l.address;if(a.push(d),!(0|libsodium._crypto_core_hchacha20(d,o,c,i))){var u=_format_output(l,r);return _free_all(a),u}_free_and_throw_error(a,"invalid usage")}export function crypto_core_hsalsa20(_,e,t,r){var a=[];_check_output_format(r),_=_any_to_Uint8Array(a,_,"input");var o,s=0|libsodium._crypto_core_hsalsa20_inputbytes();_.length!==s&&_free_and_throw_type_error(a,"invalid input length"),o=_to_allocated_buf_address(_),a.push(o),e=_any_to_Uint8Array(a,e,"privateKey");var c,n=0|libsodium._crypto_core_hsalsa20_keybytes();e.length!==n&&_free_and_throw_type_error(a,"invalid privateKey length"),c=_to_allocated_buf_address(e),a.push(c);var i=null;null!=t&&(i=_to_allocated_buf_address(t=_any_to_Uint8Array(a,t,"constant")),t.length,a.push(i));var l=new AllocatedBuf(0|libsodium._crypto_core_hsalsa20_outputbytes()),d=l.address;if(a.push(d),!(0|libsodium._crypto_core_hsalsa20(d,o,c,i))){var u=_format_output(l,r);return _free_all(a),u}_free_and_throw_error(a,"invalid usage")}export function crypto_core_ristretto255_add(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"p");var a,o=0|libsodium._crypto_core_ristretto255_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid p length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"q");var s,c=0|libsodium._crypto_core_ristretto255_bytes();e.length!==c&&_free_and_throw_type_error(r,"invalid q length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_core_ristretto255_add(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"input is an invalid element")}export function crypto_core_ristretto255_from_hash(_,e){var t=[];_check_output_format(e);var r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"r"));_.length,t.push(r);var a=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_bytes()),o=a.address;if(t.push(o),!(0|libsodium._crypto_core_ristretto255_from_hash(o,r))){var s=_format_output(a,e);return _free_all(t),s}_free_and_throw_error(t,"invalid usage")}export function crypto_core_ristretto255_is_valid_point(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"repr");var r,a=0|libsodium._crypto_core_ristretto255_bytes();_.length!==a&&_free_and_throw_type_error(t,"invalid repr length"),r=_to_allocated_buf_address(_),t.push(r);var o=1==(0|libsodium._crypto_core_ristretto255_is_valid_point(r));return _free_all(t),o}export function crypto_core_ristretto255_random(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_bytes()),r=t.address;e.push(r),libsodium._crypto_core_ristretto255_random(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_core_ristretto255_scalar_add(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"x");var a,o=0|libsodium._crypto_core_ristretto255_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid x length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"y");var s,c=0|libsodium._crypto_core_ristretto255_scalarbytes();e.length!==c&&_free_and_throw_type_error(r,"invalid y length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_scalarbytes()),i=n.address;r.push(i),libsodium._crypto_core_ristretto255_scalar_add(i,a,s);var l=_format_output(n,t);return _free_all(r),l}export function crypto_core_ristretto255_scalar_complement(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"s");var r,a=0|libsodium._crypto_core_ristretto255_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid s length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_scalarbytes()),s=o.address;t.push(s),libsodium._crypto_core_ristretto255_scalar_complement(s,r);var c=_format_output(o,e);return _free_all(t),c}export function crypto_core_ristretto255_scalar_invert(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"s");var r,a=0|libsodium._crypto_core_ristretto255_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid s length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_scalarbytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_core_ristretto255_scalar_invert(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid reciprocate")}export function crypto_core_ristretto255_scalar_mul(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"x");var a,o=0|libsodium._crypto_core_ristretto255_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid x length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"y");var s,c=0|libsodium._crypto_core_ristretto255_scalarbytes();e.length!==c&&_free_and_throw_type_error(r,"invalid y length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_scalarbytes()),i=n.address;r.push(i),libsodium._crypto_core_ristretto255_scalar_mul(i,a,s);var l=_format_output(n,t);return _free_all(r),l}export function crypto_core_ristretto255_scalar_negate(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"s");var r,a=0|libsodium._crypto_core_ristretto255_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid s length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_scalarbytes()),s=o.address;t.push(s),libsodium._crypto_core_ristretto255_scalar_negate(s,r);var c=_format_output(o,e);return _free_all(t),c}export function crypto_core_ristretto255_scalar_random(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_scalarbytes()),r=t.address;e.push(r),libsodium._crypto_core_ristretto255_scalar_random(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_core_ristretto255_scalar_reduce(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"sample");var r,a=0|libsodium._crypto_core_ristretto255_nonreducedscalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid sample length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_scalarbytes()),s=o.address;t.push(s),libsodium._crypto_core_ristretto255_scalar_reduce(s,r);var c=_format_output(o,e);return _free_all(t),c}export function crypto_core_ristretto255_scalar_sub(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"x");var a,o=0|libsodium._crypto_core_ristretto255_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid x length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"y");var s,c=0|libsodium._crypto_core_ristretto255_scalarbytes();e.length!==c&&_free_and_throw_type_error(r,"invalid y length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_scalarbytes()),i=n.address;r.push(i),libsodium._crypto_core_ristretto255_scalar_sub(i,a,s);var l=_format_output(n,t);return _free_all(r),l}export function crypto_core_ristretto255_sub(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"p");var a,o=0|libsodium._crypto_core_ristretto255_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid p length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"q");var s,c=0|libsodium._crypto_core_ristretto255_bytes();e.length!==c&&_free_and_throw_type_error(r,"invalid q length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_core_ristretto255_sub(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"input is an invalid element")}export function crypto_generichash(_,e,t,r){var a=[];_check_output_format(r),_require_defined(a,_,"hash_length"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(a,"hash_length must be an unsigned integer");var o=_to_allocated_buf_address(e=_any_to_Uint8Array(a,e,"message")),s=e.length;a.push(o);var c=null,n=0;null!=t&&(c=_to_allocated_buf_address(t=_any_to_Uint8Array(a,t,"key")),n=t.length,a.push(c));var i=new AllocatedBuf(_|=0),l=i.address;if(a.push(l),!(0|libsodium._crypto_generichash(l,_,o,s,0,c,n))){var d=_format_output(i,r);return _free_all(a),d}_free_and_throw_error(a,"invalid usage")}export function crypto_generichash_blake2b_salt_personal(_,e,t,r,a){var o=[];_check_output_format(a),_require_defined(o,_,"subkey_len"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(o,"subkey_len must be an unsigned integer");var s=null,c=0;null!=e&&(s=_to_allocated_buf_address(e=_any_to_Uint8Array(o,e,"key")),c=e.length,o.push(s));var n=null,i=0;null!=t&&(t=_any_to_Uint8Array(o,t,"id"),i=0|libsodium._crypto_generichash_blake2b_saltbytes(),t.length!==i&&_free_and_throw_type_error(o,"invalid id length"),n=_to_allocated_buf_address(t),o.push(n));var l=null,d=0;null!=r&&(r=_any_to_Uint8Array(o,r,"ctx"),d=0|libsodium._crypto_generichash_blake2b_personalbytes(),r.length!==d&&_free_and_throw_type_error(o,"invalid ctx length"),l=_to_allocated_buf_address(r),o.push(l));var u=new AllocatedBuf(0|_),p=u.address;if(o.push(p),!(0|libsodium._crypto_generichash_blake2b_salt_personal(p,_,null,0,0,s,c,n,l))){var y=_format_output(u,a);return _free_all(o),y}_free_and_throw_error(o,"invalid usage")}export function crypto_generichash_final(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address"),_require_defined(r,e,"hash_length"),("number"!=typeof e||(0|e)!==e||e<0)&&_free_and_throw_type_error(r,"hash_length must be an unsigned integer");var a=new AllocatedBuf(e|=0),o=a.address;if(r.push(o),!(0|libsodium._crypto_generichash_final(_,o,e))){var s=(libsodium._free(_),_format_output(a,t));return _free_all(r),s}_free_and_throw_error(r,"invalid usage")}export function crypto_generichash_init(_,e,t){var r=[];_check_output_format(t);var a=null,o=0;null!=_&&(a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"key")),o=_.length,r.push(a)),_require_defined(r,e,"hash_length"),("number"!=typeof e||(0|e)!==e||e<0)&&_free_and_throw_type_error(r,"hash_length must be an unsigned integer");var s=new AllocatedBuf(357).address;if(!(0|libsodium._crypto_generichash_init(s,a,o,e))){var c=s;return _free_all(r),c}_free_and_throw_error(r,"invalid usage")}export function crypto_generichash_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_generichash_keybytes()),r=t.address;e.push(r),libsodium._crypto_generichash_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_generichash_update(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address");var a=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message_chunk")),o=e.length;r.push(a),0|libsodium._crypto_generichash_update(_,a,o)&&_free_and_throw_error(r,"invalid usage"),_free_all(r)}export function crypto_hash(_,e){var t=[];_check_output_format(e);var r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"message")),a=_.length;t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_hash_bytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_hash(s,r,a,0))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid usage")}export function crypto_hash_sha256(_,e){var t=[];_check_output_format(e);var r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"message")),a=_.length;t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_hash_sha256_bytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_hash_sha256(s,r,a,0))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid usage")}export function crypto_hash_sha256_final(_,e){var t=[];_check_output_format(e),_require_defined(t,_,"state_address");var r=new AllocatedBuf(0|libsodium._crypto_hash_sha256_bytes()),a=r.address;if(t.push(a),!(0|libsodium._crypto_hash_sha256_final(_,a))){var o=(libsodium._free(_),_format_output(r,e));return _free_all(t),o}_free_and_throw_error(t,"invalid usage")}export function crypto_hash_sha256_init(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(104).address;if(!(0|libsodium._crypto_hash_sha256_init(t))){var r=t;return _free_all(e),r}_free_and_throw_error(e,"invalid usage")}export function crypto_hash_sha256_update(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address");var a=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message_chunk")),o=e.length;r.push(a),0|libsodium._crypto_hash_sha256_update(_,a,o)&&_free_and_throw_error(r,"invalid usage"),_free_all(r)}export function crypto_hash_sha512(_,e){var t=[];_check_output_format(e);var r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"message")),a=_.length;t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_hash_sha512_bytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_hash_sha512(s,r,a,0))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid usage")}export function crypto_hash_sha512_final(_,e){var t=[];_check_output_format(e),_require_defined(t,_,"state_address");var r=new AllocatedBuf(0|libsodium._crypto_hash_sha512_bytes()),a=r.address;if(t.push(a),!(0|libsodium._crypto_hash_sha512_final(_,a))){var o=(libsodium._free(_),_format_output(r,e));return _free_all(t),o}_free_and_throw_error(t,"invalid usage")}export function crypto_hash_sha512_init(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(208).address;if(!(0|libsodium._crypto_hash_sha512_init(t))){var r=t;return _free_all(e),r}_free_and_throw_error(e,"invalid usage")}export function crypto_hash_sha512_update(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address");var a=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message_chunk")),o=e.length;r.push(a),0|libsodium._crypto_hash_sha512_update(_,a,o)&&_free_and_throw_error(r,"invalid usage"),_free_all(r)}export function crypto_kdf_derive_from_key(_,e,t,r,a){var o=[];_check_output_format(a),_require_defined(o,_,"subkey_len"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(o,"subkey_len must be an unsigned integer"),_require_defined(o,e,"subkey_id");var s,c=0;if("bigint"==typeof e&&e>=BigInt(0)){const _=e>>BigInt(32);_>BigInt(4294967295)&&_free_and_throw_type_error(o,"subkey_id cannot be more than 64 bits"),c=Number(_),s=Number(e&BigInt(4294967295))}else"number"==typeof e&&(0|e)===e&&e>=0?s=e:_free_and_throw_type_error(o,"subkey_id must be an unsigned integer or bigint");"string"!=typeof t&&_free_and_throw_type_error(o,"ctx must be a string"),t=from_string(t+"\0"),null!=i&&t.length-1!==i&&_free_and_throw_type_error(o,"invalid ctx length");var n=_to_allocated_buf_address(t),i=t.length-1;o.push(n),r=_any_to_Uint8Array(o,r,"key");var l,d=0|libsodium._crypto_kdf_keybytes();r.length!==d&&_free_and_throw_type_error(o,"invalid key length"),l=_to_allocated_buf_address(r),o.push(l);var u=new AllocatedBuf(0|_),p=u.address;o.push(p),libsodium._crypto_kdf_derive_from_key(p,_,s,c,n,l);var y=_format_output(u,a);return _free_all(o),y}export function crypto_kdf_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_kdf_keybytes()),r=t.address;e.push(r),libsodium._crypto_kdf_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_kx_client_session_keys(_,e,t,r){var a=[];_check_output_format(r),_=_any_to_Uint8Array(a,_,"clientPublicKey");var o,s=0|libsodium._crypto_kx_publickeybytes();_.length!==s&&_free_and_throw_type_error(a,"invalid clientPublicKey length"),o=_to_allocated_buf_address(_),a.push(o),e=_any_to_Uint8Array(a,e,"clientSecretKey");var c,n=0|libsodium._crypto_kx_secretkeybytes();e.length!==n&&_free_and_throw_type_error(a,"invalid clientSecretKey length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"serverPublicKey");var i,l=0|libsodium._crypto_kx_publickeybytes();t.length!==l&&_free_and_throw_type_error(a,"invalid serverPublicKey length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(0|libsodium._crypto_kx_sessionkeybytes()),u=d.address;a.push(u);var p=new AllocatedBuf(0|libsodium._crypto_kx_sessionkeybytes()),y=p.address;if(a.push(y),!(0|libsodium._crypto_kx_client_session_keys(u,y,o,c,i))){var h=_format_output({sharedRx:d,sharedTx:p},r);return _free_all(a),h}_free_and_throw_error(a,"invalid usage")}export function crypto_kx_keypair(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_kx_publickeybytes()),r=t.address;e.push(r);var a=new AllocatedBuf(0|libsodium._crypto_kx_secretkeybytes()),o=a.address;if(e.push(o),!(0|libsodium._crypto_kx_keypair(r,o))){var s={publicKey:_format_output(t,_),privateKey:_format_output(a,_),keyType:"x25519"};return _free_all(e),s}_free_and_throw_error(e,"internal error")}export function crypto_kx_seed_keypair(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"seed");var r,a=0|libsodium._crypto_kx_seedbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid seed length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_kx_publickeybytes()),s=o.address;t.push(s);var c=new AllocatedBuf(0|libsodium._crypto_kx_secretkeybytes()),n=c.address;if(t.push(n),!(0|libsodium._crypto_kx_seed_keypair(s,n,r))){var i={publicKey:_format_output(o,e),privateKey:_format_output(c,e),keyType:"x25519"};return _free_all(t),i}_free_and_throw_error(t,"internal error")}export function crypto_kx_server_session_keys(_,e,t,r){var a=[];_check_output_format(r),_=_any_to_Uint8Array(a,_,"serverPublicKey");var o,s=0|libsodium._crypto_kx_publickeybytes();_.length!==s&&_free_and_throw_type_error(a,"invalid serverPublicKey length"),o=_to_allocated_buf_address(_),a.push(o),e=_any_to_Uint8Array(a,e,"serverSecretKey");var c,n=0|libsodium._crypto_kx_secretkeybytes();e.length!==n&&_free_and_throw_type_error(a,"invalid serverSecretKey length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"clientPublicKey");var i,l=0|libsodium._crypto_kx_publickeybytes();t.length!==l&&_free_and_throw_type_error(a,"invalid clientPublicKey length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(0|libsodium._crypto_kx_sessionkeybytes()),u=d.address;a.push(u);var p=new AllocatedBuf(0|libsodium._crypto_kx_sessionkeybytes()),y=p.address;if(a.push(y),!(0|libsodium._crypto_kx_server_session_keys(u,y,o,c,i))){var h=_format_output({sharedRx:d,sharedTx:p},r);return _free_all(a),h}_free_and_throw_error(a,"invalid usage")}export function crypto_onetimeauth(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"key");var s,c=0|libsodium._crypto_onetimeauth_keybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid key length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_onetimeauth_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_onetimeauth(i,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_onetimeauth_final(_,e){var t=[];_check_output_format(e),_require_defined(t,_,"state_address");var r=new AllocatedBuf(0|libsodium._crypto_onetimeauth_bytes()),a=r.address;if(t.push(a),!(0|libsodium._crypto_onetimeauth_final(_,a))){var o=(libsodium._free(_),_format_output(r,e));return _free_all(t),o}_free_and_throw_error(t,"invalid usage")}export function crypto_onetimeauth_init(_,e){var t=[];_check_output_format(e);var r=null;null!=_&&(r=_to_allocated_buf_address(_=_any_to_Uint8Array(t,_,"key")),_.length,t.push(r));var a=new AllocatedBuf(144).address;if(!(0|libsodium._crypto_onetimeauth_init(a,r))){var o=a;return _free_all(t),o}_free_and_throw_error(t,"invalid usage")}export function crypto_onetimeauth_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_onetimeauth_keybytes()),r=t.address;e.push(r),libsodium._crypto_onetimeauth_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_onetimeauth_update(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address");var a=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message_chunk")),o=e.length;r.push(a),0|libsodium._crypto_onetimeauth_update(_,a,o)&&_free_and_throw_error(r,"invalid usage"),_free_all(r)}export function crypto_onetimeauth_verify(_,e,t){var r=[];_=_any_to_Uint8Array(r,_,"hash");var a,o=0|libsodium._crypto_onetimeauth_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid hash length"),a=_to_allocated_buf_address(_),r.push(a);var s=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message")),c=e.length;r.push(s),t=_any_to_Uint8Array(r,t,"key");var n,i=0|libsodium._crypto_onetimeauth_keybytes();t.length!==i&&_free_and_throw_type_error(r,"invalid key length"),n=_to_allocated_buf_address(t),r.push(n);var l=!(0|libsodium._crypto_onetimeauth_verify(a,s,c,0,n));return _free_all(r),l}export function crypto_pwhash(_,e,t,r,a,o,s){var c=[];_check_output_format(s),_require_defined(c,_,"keyLength"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(c,"keyLength must be an unsigned integer");var n=_to_allocated_buf_address(e=_any_to_Uint8Array(c,e,"password")),i=e.length;c.push(n),t=_any_to_Uint8Array(c,t,"salt");var l,d=0|libsodium._crypto_pwhash_saltbytes();t.length!==d&&_free_and_throw_type_error(c,"invalid salt length"),l=_to_allocated_buf_address(t),c.push(l),_require_defined(c,r,"opsLimit"),("number"!=typeof r||(0|r)!==r||r<0)&&_free_and_throw_type_error(c,"opsLimit must be an unsigned integer"),_require_defined(c,a,"memLimit"),("number"!=typeof a||(0|a)!==a||a<0)&&_free_and_throw_type_error(c,"memLimit must be an unsigned integer"),_require_defined(c,o,"algorithm"),("number"!=typeof o||(0|o)!==o||o<0)&&_free_and_throw_type_error(c,"algorithm must be an unsigned integer");var u=new AllocatedBuf(0|_),p=u.address;if(c.push(p),!(0|libsodium._crypto_pwhash(p,_,0,n,i,0,l,r,0,a,o))){var y=_format_output(u,s);return _free_all(c),y}_free_and_throw_error(c,"invalid usage")}export function crypto_pwhash_scryptsalsa208sha256(_,e,t,r,a,o){var s=[];_check_output_format(o),_require_defined(s,_,"keyLength"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(s,"keyLength must be an unsigned integer");var c=_to_allocated_buf_address(e=_any_to_Uint8Array(s,e,"password")),n=e.length;s.push(c),t=_any_to_Uint8Array(s,t,"salt");var i,l=0|libsodium._crypto_pwhash_scryptsalsa208sha256_saltbytes();t.length!==l&&_free_and_throw_type_error(s,"invalid salt length"),i=_to_allocated_buf_address(t),s.push(i),_require_defined(s,r,"opsLimit"),("number"!=typeof r||(0|r)!==r||r<0)&&_free_and_throw_type_error(s,"opsLimit must be an unsigned integer"),_require_defined(s,a,"memLimit"),("number"!=typeof a||(0|a)!==a||a<0)&&_free_and_throw_type_error(s,"memLimit must be an unsigned integer");var d=new AllocatedBuf(0|_),u=d.address;if(s.push(u),!(0|libsodium._crypto_pwhash_scryptsalsa208sha256(u,_,0,c,n,0,i,r,0,a))){var p=_format_output(d,o);return _free_all(s),p}_free_and_throw_error(s,"invalid usage")}export function crypto_pwhash_scryptsalsa208sha256_ll(_,e,t,r,a,o,s){var c=[];_check_output_format(s);var n=_to_allocated_buf_address(_=_any_to_Uint8Array(c,_,"password")),i=_.length;c.push(n);var l=_to_allocated_buf_address(e=_any_to_Uint8Array(c,e,"salt")),d=e.length;c.push(l),_require_defined(c,t,"opsLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&_free_and_throw_type_error(c,"opsLimit must be an unsigned integer"),_require_defined(c,r,"r"),("number"!=typeof r||(0|r)!==r||r<0)&&_free_and_throw_type_error(c,"r must be an unsigned integer"),_require_defined(c,a,"p"),("number"!=typeof a||(0|a)!==a||a<0)&&_free_and_throw_type_error(c,"p must be an unsigned integer"),_require_defined(c,o,"keyLength"),("number"!=typeof o||(0|o)!==o||o<0)&&_free_and_throw_type_error(c,"keyLength must be an unsigned integer");var u=new AllocatedBuf(0|o),p=u.address;if(c.push(p),!(0|libsodium._crypto_pwhash_scryptsalsa208sha256_ll(n,i,l,d,t,0,r,a,p,o))){var y=_format_output(u,s);return _free_all(c),y}_free_and_throw_error(c,"invalid usage")}export function crypto_pwhash_scryptsalsa208sha256_str(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"password")),s=_.length;a.push(o),_require_defined(a,e,"opsLimit"),("number"!=typeof e||(0|e)!==e||e<0)&&_free_and_throw_type_error(a,"opsLimit must be an unsigned integer"),_require_defined(a,t,"memLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&_free_and_throw_type_error(a,"memLimit must be an unsigned integer");var c=new AllocatedBuf(0|libsodium._crypto_pwhash_scryptsalsa208sha256_strbytes()).address;if(a.push(c),!(0|libsodium._crypto_pwhash_scryptsalsa208sha256_str(c,o,s,0,e,0,t))){var n=libsodium.UTF8ToString(c);return _free_all(a),n}_free_and_throw_error(a,"invalid usage")}export function crypto_pwhash_scryptsalsa208sha256_str_verify(_,e,t){var r=[];_check_output_format(t),"string"!=typeof _&&_free_and_throw_type_error(r,"hashed_password must be a string"),_=from_string(_+"\0"),null!=o&&_.length-1!==o&&_free_and_throw_type_error(r,"invalid hashed_password length");var a=_to_allocated_buf_address(_),o=_.length-1;r.push(a);var s=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"password")),c=e.length;r.push(s);var n=!(0|libsodium._crypto_pwhash_scryptsalsa208sha256_str_verify(a,s,c,0));return _free_all(r),n}export function crypto_pwhash_str(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"password")),s=_.length;a.push(o),_require_defined(a,e,"opsLimit"),("number"!=typeof e||(0|e)!==e||e<0)&&_free_and_throw_type_error(a,"opsLimit must be an unsigned integer"),_require_defined(a,t,"memLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&_free_and_throw_type_error(a,"memLimit must be an unsigned integer");var c=new AllocatedBuf(0|libsodium._crypto_pwhash_strbytes()).address;if(a.push(c),!(0|libsodium._crypto_pwhash_str(c,o,s,0,e,0,t))){var n=libsodium.UTF8ToString(c);return _free_all(a),n}_free_and_throw_error(a,"invalid usage")}export function crypto_pwhash_str_needs_rehash(_,e,t,r){var a=[];_check_output_format(r),"string"!=typeof _&&_free_and_throw_type_error(a,"hashed_password must be a string"),_=from_string(_+"\0"),null!=s&&_.length-1!==s&&_free_and_throw_type_error(a,"invalid hashed_password length");var o=_to_allocated_buf_address(_),s=_.length-1;a.push(o),_require_defined(a,e,"opsLimit"),("number"!=typeof e||(0|e)!==e||e<0)&&_free_and_throw_type_error(a,"opsLimit must be an unsigned integer"),_require_defined(a,t,"memLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&_free_and_throw_type_error(a,"memLimit must be an unsigned integer");var c=!!(0|libsodium._crypto_pwhash_str_needs_rehash(o,e,0,t));return _free_all(a),c}export function crypto_pwhash_str_verify(_,e,t){var r=[];_check_output_format(t),"string"!=typeof _&&_free_and_throw_type_error(r,"hashed_password must be a string"),_=from_string(_+"\0"),null!=o&&_.length-1!==o&&_free_and_throw_type_error(r,"invalid hashed_password length");var a=_to_allocated_buf_address(_),o=_.length-1;r.push(a);var s=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"password")),c=e.length;r.push(s);var n=!(0|libsodium._crypto_pwhash_str_verify(a,s,c,0));return _free_all(r),n}export function crypto_scalarmult(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"privateKey");var a,o=0|libsodium._crypto_scalarmult_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid privateKey length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"publicKey");var s,c=0|libsodium._crypto_scalarmult_bytes();e.length!==c&&_free_and_throw_type_error(r,"invalid publicKey length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_scalarmult_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_scalarmult(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"weak public key")}export function crypto_scalarmult_base(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"privateKey");var r,a=0|libsodium._crypto_scalarmult_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid privateKey length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_scalarmult_bytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_scalarmult_base(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"unknown error")}export function crypto_scalarmult_ed25519(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"n");var a,o=0|libsodium._crypto_scalarmult_ed25519_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid n length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"p");var s,c=0|libsodium._crypto_scalarmult_ed25519_bytes();e.length!==c&&_free_and_throw_type_error(r,"invalid p length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_scalarmult_ed25519_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_scalarmult_ed25519(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid point or scalar is 0")}export function crypto_scalarmult_ed25519_base(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"scalar");var r,a=0|libsodium._crypto_scalarmult_ed25519_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid scalar length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_scalarmult_ed25519_bytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_scalarmult_ed25519_base(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"scalar is 0")}export function crypto_scalarmult_ed25519_base_noclamp(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"scalar");var r,a=0|libsodium._crypto_scalarmult_ed25519_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid scalar length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_scalarmult_ed25519_bytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_scalarmult_ed25519_base_noclamp(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"scalar is 0")}export function crypto_scalarmult_ed25519_noclamp(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"n");var a,o=0|libsodium._crypto_scalarmult_ed25519_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid n length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"p");var s,c=0|libsodium._crypto_scalarmult_ed25519_bytes();e.length!==c&&_free_and_throw_type_error(r,"invalid p length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_scalarmult_ed25519_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_scalarmult_ed25519_noclamp(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid point or scalar is 0")}export function crypto_scalarmult_ristretto255(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"scalar");var a,o=0|libsodium._crypto_scalarmult_ristretto255_scalarbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid scalar length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"element");var s,c=0|libsodium._crypto_scalarmult_ristretto255_bytes();e.length!==c&&_free_and_throw_type_error(r,"invalid element length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_scalarmult_ristretto255_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_scalarmult_ristretto255(i,a,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"result is identity element")}export function crypto_scalarmult_ristretto255_base(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"scalar");var r,a=0|libsodium._crypto_core_ristretto255_scalarbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid scalar length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_core_ristretto255_bytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_scalarmult_ristretto255_base(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"scalar is 0")}export function crypto_secretbox_detached(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"message")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_secretbox_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"key");var i,l=0|libsodium._crypto_secretbox_keybytes();t.length!==l&&_free_and_throw_type_error(a,"invalid key length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(0|s),u=d.address;a.push(u);var p=new AllocatedBuf(0|libsodium._crypto_secretbox_macbytes()),y=p.address;if(a.push(y),!(0|libsodium._crypto_secretbox_detached(u,y,o,s,0,c,i))){var h=_format_output({mac:p,cipher:d},r);return _free_all(a),h}_free_and_throw_error(a,"invalid usage")}export function crypto_secretbox_easy(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"message")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_secretbox_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"key");var i,l=0|libsodium._crypto_secretbox_keybytes();t.length!==l&&_free_and_throw_type_error(a,"invalid key length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(s+libsodium._crypto_secretbox_macbytes()|0),u=d.address;if(a.push(u),!(0|libsodium._crypto_secretbox_easy(u,o,s,0,c,i))){var p=_format_output(d,r);return _free_all(a),p}_free_and_throw_error(a,"invalid usage")}export function crypto_secretbox_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_secretbox_keybytes()),r=t.address;e.push(r),libsodium._crypto_secretbox_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_secretbox_open_detached(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"ciphertext")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"mac");var n,i=0|libsodium._crypto_secretbox_macbytes();e.length!==i&&_free_and_throw_type_error(o,"invalid mac length"),n=_to_allocated_buf_address(e),o.push(n),t=_any_to_Uint8Array(o,t,"nonce");var l,d=0|libsodium._crypto_secretbox_noncebytes();t.length!==d&&_free_and_throw_type_error(o,"invalid nonce length"),l=_to_allocated_buf_address(t),o.push(l),r=_any_to_Uint8Array(o,r,"key");var u,p=0|libsodium._crypto_secretbox_keybytes();r.length!==p&&_free_and_throw_type_error(o,"invalid key length"),u=_to_allocated_buf_address(r),o.push(u);var y=new AllocatedBuf(0|c),h=y.address;if(o.push(h),!(0|libsodium._crypto_secretbox_open_detached(h,s,n,c,0,l,u))){var b=_format_output(y,a);return _free_all(o),b}_free_and_throw_error(o,"wrong secret key for the given ciphertext")}export function crypto_secretbox_open_easy(_,e,t,r){var a=[];_check_output_format(r),_=_any_to_Uint8Array(a,_,"ciphertext");var o,s=libsodium._crypto_secretbox_macbytes(),c=_.length;c<s&&_free_and_throw_type_error(a,"ciphertext is too short"),o=_to_allocated_buf_address(_),a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var n,i=0|libsodium._crypto_secretbox_noncebytes();e.length!==i&&_free_and_throw_type_error(a,"invalid nonce length"),n=_to_allocated_buf_address(e),a.push(n),t=_any_to_Uint8Array(a,t,"key");var l,d=0|libsodium._crypto_secretbox_keybytes();t.length!==d&&_free_and_throw_type_error(a,"invalid key length"),l=_to_allocated_buf_address(t),a.push(l);var u=new AllocatedBuf(c-libsodium._crypto_secretbox_macbytes()|0),p=u.address;if(a.push(p),!(0|libsodium._crypto_secretbox_open_easy(p,o,c,0,n,l))){var y=_format_output(u,r);return _free_all(a),y}_free_and_throw_error(a,"wrong secret key for the given ciphertext")}export function crypto_secretstream_xchacha20poly1305_init_pull(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"header");var a,o=0|libsodium._crypto_secretstream_xchacha20poly1305_headerbytes();_.length!==o&&_free_and_throw_type_error(r,"invalid header length"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"key");var s,c=0|libsodium._crypto_secretstream_xchacha20poly1305_keybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid key length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(52).address;if(!(0|libsodium._crypto_secretstream_xchacha20poly1305_init_pull(n,a,s))){var i=n;return _free_all(r),i}_free_and_throw_error(r,"invalid usage")}export function crypto_secretstream_xchacha20poly1305_init_push(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"key");var r,a=0|libsodium._crypto_secretstream_xchacha20poly1305_keybytes();_.length!==a&&_free_and_throw_type_error(t,"invalid key length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(52).address,s=new AllocatedBuf(0|libsodium._crypto_secretstream_xchacha20poly1305_headerbytes()),c=s.address;if(t.push(c),!(0|libsodium._crypto_secretstream_xchacha20poly1305_init_push(o,c,r))){var n={state:o,header:_format_output(s,e)};return _free_all(t),n}_free_and_throw_error(t,"invalid usage")}export function crypto_secretstream_xchacha20poly1305_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_secretstream_xchacha20poly1305_keybytes()),r=t.address;e.push(r),libsodium._crypto_secretstream_xchacha20poly1305_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_secretstream_xchacha20poly1305_pull(_,e,t,r){var a=[];_check_output_format(r),_require_defined(a,_,"state_address"),e=_any_to_Uint8Array(a,e,"cipher");var o,s=libsodium._crypto_secretstream_xchacha20poly1305_abytes(),c=e.length;c<s&&_free_and_throw_type_error(a,"cipher is too short"),o=_to_allocated_buf_address(e),a.push(o);var n=null,i=0;null!=t&&(n=_to_allocated_buf_address(t=_any_to_Uint8Array(a,t,"ad")),i=t.length,a.push(n));var l=new AllocatedBuf(c-libsodium._crypto_secretstream_xchacha20poly1305_abytes()|0),d=l.address;a.push(d);var u,p=(u=_malloc(1),a.push(u),(p=0===libsodium._crypto_secretstream_xchacha20poly1305_pull(_,d,0,u,o,c,0,n,i)&&{tag:libsodium.HEAPU8[u],message:l})&&{message:_format_output(p.message,r),tag:p.tag});return _free_all(a),p}export function crypto_secretstream_xchacha20poly1305_push(_,e,t,r,a){var o=[];_check_output_format(a),_require_defined(o,_,"state_address");var s=_to_allocated_buf_address(e=_any_to_Uint8Array(o,e,"message_chunk")),c=e.length;o.push(s);var n=null,i=0;null!=t&&(n=_to_allocated_buf_address(t=_any_to_Uint8Array(o,t,"ad")),i=t.length,o.push(n)),_require_defined(o,r,"tag"),("number"!=typeof r||(0|r)!==r||r<0)&&_free_and_throw_type_error(o,"tag must be an unsigned integer");var l=new AllocatedBuf(c+libsodium._crypto_secretstream_xchacha20poly1305_abytes()|0),d=l.address;if(o.push(d),!(0|libsodium._crypto_secretstream_xchacha20poly1305_push(_,d,0,s,c,0,n,i,0,r))){var u=_format_output(l,a);return _free_all(o),u}_free_and_throw_error(o,"invalid usage")}export function crypto_secretstream_xchacha20poly1305_rekey(_,e){var t=[];return _check_output_format(e),_require_defined(t,_,"state_address"),libsodium._crypto_secretstream_xchacha20poly1305_rekey(_),_free_all(t),!0}export function crypto_shorthash(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"key");var s,c=0|libsodium._crypto_shorthash_keybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid key length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_shorthash_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_shorthash(i,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_shorthash_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_shorthash_keybytes()),r=t.address;e.push(r),libsodium._crypto_shorthash_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_shorthash_siphashx24(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"key");var s,c=0|libsodium._crypto_shorthash_siphashx24_keybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid key length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_shorthash_siphashx24_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_shorthash_siphashx24(i,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_sign(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"privateKey");var s,c=0|libsodium._crypto_sign_secretkeybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid privateKey length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(_.length+libsodium._crypto_sign_bytes()|0),i=n.address;if(r.push(i),!(0|libsodium._crypto_sign(i,null,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_sign_detached(_,e,t){var r=[];_check_output_format(t);var a=_to_allocated_buf_address(_=_any_to_Uint8Array(r,_,"message")),o=_.length;r.push(a),e=_any_to_Uint8Array(r,e,"privateKey");var s,c=0|libsodium._crypto_sign_secretkeybytes();e.length!==c&&_free_and_throw_type_error(r,"invalid privateKey length"),s=_to_allocated_buf_address(e),r.push(s);var n=new AllocatedBuf(0|libsodium._crypto_sign_bytes()),i=n.address;if(r.push(i),!(0|libsodium._crypto_sign_detached(i,null,a,o,0,s))){var l=_format_output(n,t);return _free_all(r),l}_free_and_throw_error(r,"invalid usage")}export function crypto_sign_ed25519_pk_to_curve25519(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"edPk");var r,a=0|libsodium._crypto_sign_publickeybytes();_.length!==a&&_free_and_throw_type_error(t,"invalid edPk length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_scalarmult_scalarbytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_sign_ed25519_pk_to_curve25519(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid key")}export function crypto_sign_ed25519_sk_to_curve25519(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"edSk");var r,a=0|libsodium._crypto_sign_secretkeybytes();_.length!==a&&_free_and_throw_type_error(t,"invalid edSk length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_scalarmult_scalarbytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_sign_ed25519_sk_to_curve25519(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid key")}export function crypto_sign_ed25519_sk_to_pk(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"privateKey");var r,a=0|libsodium._crypto_sign_secretkeybytes();_.length!==a&&_free_and_throw_type_error(t,"invalid privateKey length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_sign_publickeybytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_sign_ed25519_sk_to_pk(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid key")}export function crypto_sign_ed25519_sk_to_seed(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"privateKey");var r,a=0|libsodium._crypto_sign_secretkeybytes();_.length!==a&&_free_and_throw_type_error(t,"invalid privateKey length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_sign_seedbytes()),s=o.address;if(t.push(s),!(0|libsodium._crypto_sign_ed25519_sk_to_seed(s,r))){var c=_format_output(o,e);return _free_all(t),c}_free_and_throw_error(t,"invalid key")}export function crypto_sign_final_create(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address"),e=_any_to_Uint8Array(r,e,"privateKey");var a,o=0|libsodium._crypto_sign_secretkeybytes();e.length!==o&&_free_and_throw_type_error(r,"invalid privateKey length"),a=_to_allocated_buf_address(e),r.push(a);var s=new AllocatedBuf(0|libsodium._crypto_sign_bytes()),c=s.address;if(r.push(c),!(0|libsodium._crypto_sign_final_create(_,c,null,a))){var n=(libsodium._free(_),_format_output(s,t));return _free_all(r),n}_free_and_throw_error(r,"invalid usage")}export function crypto_sign_final_verify(_,e,t,r){var a=[];_check_output_format(r),_require_defined(a,_,"state_address"),e=_any_to_Uint8Array(a,e,"signature");var o,s=0|libsodium._crypto_sign_bytes();e.length!==s&&_free_and_throw_type_error(a,"invalid signature length"),o=_to_allocated_buf_address(e),a.push(o),t=_any_to_Uint8Array(a,t,"publicKey");var c,n=0|libsodium._crypto_sign_publickeybytes();t.length!==n&&_free_and_throw_type_error(a,"invalid publicKey length"),c=_to_allocated_buf_address(t),a.push(c);var i=!(0|libsodium._crypto_sign_final_verify(_,o,c));return _free_all(a),i}export function crypto_sign_init(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(208).address;if(!(0|libsodium._crypto_sign_init(t))){var r=t;return _free_all(e),r}_free_and_throw_error(e,"internal error")}export function crypto_sign_keypair(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_sign_publickeybytes()),r=t.address;e.push(r);var a=new AllocatedBuf(0|libsodium._crypto_sign_secretkeybytes()),o=a.address;if(e.push(o),!(0|libsodium._crypto_sign_keypair(r,o))){var s={publicKey:_format_output(t,_),privateKey:_format_output(a,_),keyType:"ed25519"};return _free_all(e),s}_free_and_throw_error(e,"internal error")}export function crypto_sign_open(_,e,t){var r=[];_check_output_format(t),_=_any_to_Uint8Array(r,_,"signedMessage");var a,o=libsodium._crypto_sign_bytes(),s=_.length;s<o&&_free_and_throw_type_error(r,"signedMessage is too short"),a=_to_allocated_buf_address(_),r.push(a),e=_any_to_Uint8Array(r,e,"publicKey");var c,n=0|libsodium._crypto_sign_publickeybytes();e.length!==n&&_free_and_throw_type_error(r,"invalid publicKey length"),c=_to_allocated_buf_address(e),r.push(c);var i=new AllocatedBuf(s-libsodium._crypto_sign_bytes()|0),l=i.address;if(r.push(l),!(0|libsodium._crypto_sign_open(l,null,a,s,0,c))){var d=_format_output(i,t);return _free_all(r),d}_free_and_throw_error(r,"incorrect signature for the given public key")}export function crypto_sign_seed_keypair(_,e){var t=[];_check_output_format(e),_=_any_to_Uint8Array(t,_,"seed");var r,a=0|libsodium._crypto_sign_seedbytes();_.length!==a&&_free_and_throw_type_error(t,"invalid seed length"),r=_to_allocated_buf_address(_),t.push(r);var o=new AllocatedBuf(0|libsodium._crypto_sign_publickeybytes()),s=o.address;t.push(s);var c=new AllocatedBuf(0|libsodium._crypto_sign_secretkeybytes()),n=c.address;if(t.push(n),!(0|libsodium._crypto_sign_seed_keypair(s,n,r))){var i={publicKey:_format_output(o,e),privateKey:_format_output(c,e),keyType:"ed25519"};return _free_all(t),i}_free_and_throw_error(t,"invalid usage")}export function crypto_sign_update(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"state_address");var a=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message_chunk")),o=e.length;r.push(a),0|libsodium._crypto_sign_update(_,a,o,0)&&_free_and_throw_error(r,"invalid usage"),_free_all(r)}export function crypto_sign_verify_detached(_,e,t){var r=[];_=_any_to_Uint8Array(r,_,"signature");var a,o=0|libsodium._crypto_sign_bytes();_.length!==o&&_free_and_throw_type_error(r,"invalid signature length"),a=_to_allocated_buf_address(_),r.push(a);var s=_to_allocated_buf_address(e=_any_to_Uint8Array(r,e,"message")),c=e.length;r.push(s),t=_any_to_Uint8Array(r,t,"publicKey");var n,i=0|libsodium._crypto_sign_publickeybytes();t.length!==i&&_free_and_throw_type_error(r,"invalid publicKey length"),n=_to_allocated_buf_address(t),r.push(n);var l=!(0|libsodium._crypto_sign_verify_detached(a,s,c,0,n));return _free_all(r),l}export function crypto_stream_chacha20(_,e,t,r){var a=[];_check_output_format(r),_require_defined(a,_,"outLength"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(a,"outLength must be an unsigned integer"),e=_any_to_Uint8Array(a,e,"key");var o,s=0|libsodium._crypto_stream_chacha20_keybytes();e.length!==s&&_free_and_throw_type_error(a,"invalid key length"),o=_to_allocated_buf_address(e),a.push(o),t=_any_to_Uint8Array(a,t,"nonce");var c,n=0|libsodium._crypto_stream_chacha20_noncebytes();t.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(t),a.push(c);var i=new AllocatedBuf(0|_),l=i.address;a.push(l),libsodium._crypto_stream_chacha20(l,_,0,c,o);var d=_format_output(i,r);return _free_all(a),d}export function crypto_stream_chacha20_ietf_xor(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"input_message")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_stream_chacha20_ietf_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"key");var i,l=0|libsodium._crypto_stream_chacha20_ietf_keybytes();t.length!==l&&_free_and_throw_type_error(a,"invalid key length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(0|s),u=d.address;if(a.push(u),0===libsodium._crypto_stream_chacha20_ietf_xor(u,o,s,0,c,i)){var p=_format_output(d,r);return _free_all(a),p}_free_and_throw_error(a,"invalid usage")}export function crypto_stream_chacha20_ietf_xor_ic(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"input_message")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var n,i=0|libsodium._crypto_stream_chacha20_ietf_noncebytes();e.length!==i&&_free_and_throw_type_error(o,"invalid nonce length"),n=_to_allocated_buf_address(e),o.push(n),_require_defined(o,t,"nonce_increment"),("number"!=typeof t||(0|t)!==t||t<0)&&_free_and_throw_type_error(o,"nonce_increment must be an unsigned integer"),r=_any_to_Uint8Array(o,r,"key");var l,d=0|libsodium._crypto_stream_chacha20_ietf_keybytes();r.length!==d&&_free_and_throw_type_error(o,"invalid key length"),l=_to_allocated_buf_address(r),o.push(l);var u=new AllocatedBuf(0|c),p=u.address;if(o.push(p),0===libsodium._crypto_stream_chacha20_ietf_xor_ic(p,s,c,0,n,t,l)){var y=_format_output(u,a);return _free_all(o),y}_free_and_throw_error(o,"invalid usage")}export function crypto_stream_chacha20_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_stream_chacha20_keybytes()),r=t.address;e.push(r),libsodium._crypto_stream_chacha20_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_stream_chacha20_xor(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"input_message")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_stream_chacha20_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"key");var i,l=0|libsodium._crypto_stream_chacha20_keybytes();t.length!==l&&_free_and_throw_type_error(a,"invalid key length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(0|s),u=d.address;if(a.push(u),0===libsodium._crypto_stream_chacha20_xor(u,o,s,0,c,i)){var p=_format_output(d,r);return _free_all(a),p}_free_and_throw_error(a,"invalid usage")}export function crypto_stream_chacha20_xor_ic(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"input_message")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var n,i=0|libsodium._crypto_stream_chacha20_noncebytes();e.length!==i&&_free_and_throw_type_error(o,"invalid nonce length"),n=_to_allocated_buf_address(e),o.push(n),_require_defined(o,t,"nonce_increment"),("number"!=typeof t||(0|t)!==t||t<0)&&_free_and_throw_type_error(o,"nonce_increment must be an unsigned integer"),r=_any_to_Uint8Array(o,r,"key");var l,d=0|libsodium._crypto_stream_chacha20_keybytes();r.length!==d&&_free_and_throw_type_error(o,"invalid key length"),l=_to_allocated_buf_address(r),o.push(l);var u=new AllocatedBuf(0|c),p=u.address;if(o.push(p),0===libsodium._crypto_stream_chacha20_xor_ic(p,s,c,0,n,t,0,l)){var y=_format_output(u,a);return _free_all(o),y}_free_and_throw_error(o,"invalid usage")}export function crypto_stream_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_stream_keybytes()),r=t.address;e.push(r),libsodium._crypto_stream_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_stream_xchacha20_keygen(_){var e=[];_check_output_format(_);var t=new AllocatedBuf(0|libsodium._crypto_stream_xchacha20_keybytes()),r=t.address;e.push(r),libsodium._crypto_stream_xchacha20_keygen(r);var a=_format_output(t,_);return _free_all(e),a}export function crypto_stream_xchacha20_xor(_,e,t,r){var a=[];_check_output_format(r);var o=_to_allocated_buf_address(_=_any_to_Uint8Array(a,_,"input_message")),s=_.length;a.push(o),e=_any_to_Uint8Array(a,e,"nonce");var c,n=0|libsodium._crypto_stream_xchacha20_noncebytes();e.length!==n&&_free_and_throw_type_error(a,"invalid nonce length"),c=_to_allocated_buf_address(e),a.push(c),t=_any_to_Uint8Array(a,t,"key");var i,l=0|libsodium._crypto_stream_xchacha20_keybytes();t.length!==l&&_free_and_throw_type_error(a,"invalid key length"),i=_to_allocated_buf_address(t),a.push(i);var d=new AllocatedBuf(0|s),u=d.address;if(a.push(u),0===libsodium._crypto_stream_xchacha20_xor(u,o,s,0,c,i)){var p=_format_output(d,r);return _free_all(a),p}_free_and_throw_error(a,"invalid usage")}export function crypto_stream_xchacha20_xor_ic(_,e,t,r,a){var o=[];_check_output_format(a);var s=_to_allocated_buf_address(_=_any_to_Uint8Array(o,_,"input_message")),c=_.length;o.push(s),e=_any_to_Uint8Array(o,e,"nonce");var n,i=0|libsodium._crypto_stream_xchacha20_noncebytes();e.length!==i&&_free_and_throw_type_error(o,"invalid nonce length"),n=_to_allocated_buf_address(e),o.push(n),_require_defined(o,t,"nonce_increment"),("number"!=typeof t||(0|t)!==t||t<0)&&_free_and_throw_type_error(o,"nonce_increment must be an unsigned integer"),r=_any_to_Uint8Array(o,r,"key");var l,d=0|libsodium._crypto_stream_xchacha20_keybytes();r.length!==d&&_free_and_throw_type_error(o,"invalid key length"),l=_to_allocated_buf_address(r),o.push(l);var u=new AllocatedBuf(0|c),p=u.address;if(o.push(p),0===libsodium._crypto_stream_xchacha20_xor_ic(p,s,c,0,n,t,0,l)){var y=_format_output(u,a);return _free_all(o),y}_free_and_throw_error(o,"invalid usage")}export function randombytes_buf(_,e){var t=[];_check_output_format(e),_require_defined(t,_,"length"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(t,"length must be an unsigned integer");var r=new AllocatedBuf(0|_),a=r.address;t.push(a),libsodium._randombytes_buf(a,_);var o=_format_output(r,e);return _free_all(t),o}export function randombytes_buf_deterministic(_,e,t){var r=[];_check_output_format(t),_require_defined(r,_,"length"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(r,"length must be an unsigned integer"),e=_any_to_Uint8Array(r,e,"seed");var a,o=0|libsodium._randombytes_seedbytes();e.length!==o&&_free_and_throw_type_error(r,"invalid seed length"),a=_to_allocated_buf_address(e),r.push(a);var s=new AllocatedBuf(0|_),c=s.address;r.push(c),libsodium._randombytes_buf_deterministic(c,_,a);var n=_format_output(s,t);return _free_all(r),n}export function randombytes_close(_){_check_output_format(_),libsodium._randombytes_close()}export function randombytes_random(_){_check_output_format(_);var e=libsodium._randombytes_random()>>>0;return _free_all([]),e}export function randombytes_set_implementation(_,e){var t=[];_check_output_format(e);for(var r=libsodium._malloc(24),a=0;a<6;a++)libsodium.setValue(r+4*a,libsodium.Runtime.addFunction(_[["implementation_name","random","stir","uniform","buf","close"][a]]),"i32");0|libsodium._randombytes_set_implementation(r)&&_free_and_throw_error(t,"unsupported implementation"),_free_all(t)}export function randombytes_stir(_){_check_output_format(_),libsodium._randombytes_stir()}export function randombytes_uniform(_,e){var t=[];_check_output_format(e),_require_defined(t,_,"upper_bound"),("number"!=typeof _||(0|_)!==_||_<0)&&_free_and_throw_type_error(t,"upper_bound must be an unsigned integer");var r=libsodium._randombytes_uniform(_)>>>0;return _free_all(t),r}export function sodium_version_string(){var _=libsodium._sodium_version_string(),e=libsodium.UTF8ToString(_);return _free_all([]),e}try{var message=new Uint8Array([98,97,108,108,115]),nonce=randombytes_buf(crypto_secretbox_NONCEBYTES),key=randombytes_buf(crypto_secretbox_KEYBYTES),encrypted=crypto_secretbox_easy(message,nonce,key),decrypted=crypto_secretbox_open_easy(encrypted,nonce,key);if(!memcmp(message,decrypted))throw new Error("Init test failed")}catch(_){throw new Error("Failed to load"+_)}
